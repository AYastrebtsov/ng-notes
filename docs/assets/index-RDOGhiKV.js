import{r as c}from"./index-DVXBtNgz.js";import{_ as M}from"./extends-CCbyfPlC.js";var x;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(x||(x={}));var D=function(e){return e},z="beforeunload",X="popstate";function Y(e){e===void 0&&(e={});var t=e,n=t.window,a=n===void 0?document.defaultView:n,r=a.history;function i(){var o=a.location,s=o.pathname,p=o.search,y=o.hash,d=r.state||{};return[d.idx,D({pathname:s,search:p,hash:y,state:d.usr||null,key:d.key||"default"})]}var l=null;function u(){if(l)h.call(l),l=null;else{var o=x.Pop,s=i(),p=s[0],y=s[1];if(h.length){if(p!=null){var d=m-p;d&&(l={action:o,location:y,retry:function(){w(d*-1)}},w(d))}}else R(o)}}a.addEventListener(X,u);var f=x.Pop,v=i(),m=v[0],g=v[1],P=U(),h=U();m==null&&(m=0,r.replaceState(M({},r.state,{idx:m}),""));function b(o){return typeof o=="string"?o:j(o)}function k(o,s){return s===void 0&&(s=null),D(M({pathname:g.pathname,hash:"",search:""},typeof o=="string"?E(o):o,{state:s,key:Z()}))}function N(o,s){return[{usr:o.state,key:o.key,idx:s},b(o)]}function _(o,s,p){return!h.length||(h.call({action:o,location:s,retry:p}),!1)}function R(o){f=o;var s=i();m=s[0],g=s[1],P.call({action:f,location:g})}function J(o,s){var p=x.Push,y=k(o,s);function d(){J(o,s)}if(_(p,y,d)){var C=N(y,m+1),W=C[0],L=C[1];try{r.pushState(W,"",L)}catch{a.location.assign(L)}R(p)}}function K(o,s){var p=x.Replace,y=k(o,s);function d(){K(o,s)}if(_(p,y,d)){var C=N(y,m),W=C[0],L=C[1];r.replaceState(W,"",L),R(p)}}function w(o){r.go(o)}var Q={get action(){return f},get location(){return g},createHref:b,push:J,replace:K,go:w,back:function(){w(-1)},forward:function(){w(1)},listen:function(s){return P.push(s)},block:function(s){var p=h.push(s);return h.length===1&&a.addEventListener(z,A),function(){p(),h.length||a.removeEventListener(z,A)}}};return Q}function A(e){e.preventDefault(),e.returnValue=""}function U(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(a){return a!==n})}},call:function(n){e.forEach(function(a){return a&&a(n)})}}}function Z(){return Math.random().toString(36).substr(2,8)}function j(e){var t=e.pathname,n=t===void 0?"/":t,a=e.search,r=a===void 0?"":a,i=e.hash,l=i===void 0?"":i;return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function E(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const B=c.createContext(null),$=c.createContext(null),V=c.createContext({outlet:null,matches:[]});function S(e,t){if(!e)throw new Error(t)}function I(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:r=""}=typeof e=="string"?E(e):e;return{pathname:n?n.startsWith("/")?n:ee(n,t):t,search:re(a),hash:ie(r)}}function ee(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function q(e,t,n){let a=typeof e=="string"?E(e):e,r=e===""||a.pathname===""?"/":a.pathname,i;if(r==null)i=n;else{let u=t.length-1;if(r.startsWith("..")){let f=r.split("/");for(;f[0]==="..";)f.shift(),u-=1;a.pathname=f.join("/")}i=u>=0?t[u]:"/"}let l=I(a,i);return r&&r!=="/"&&r.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function te(e){return e===""||e.pathname===""?"/":typeof e=="string"?E(e).pathname:e.pathname}function ne(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&n!=="/"?null:e.slice(t.length)||"/"}const F=e=>e.join("/").replace(/\/\/+/g,"/"),ae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),re=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ie=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oe(e){O()||S(!1);let{basename:t,navigator:n}=c.useContext(B),{hash:a,pathname:r,search:i}=G(e),l=r;if(t!=="/"){let u=te(e),f=u!=null&&u.endsWith("/");l=r==="/"?t+(f?"/":""):F([t,r])}return n.createHref({pathname:l,search:i,hash:a})}function O(){return c.useContext($)!=null}function H(){return O()||S(!1),c.useContext($).location}function le(){O()||S(!1);let{basename:e,navigator:t}=c.useContext(B),{matches:n}=c.useContext(V),{pathname:a}=H(),r=JSON.stringify(n.map(u=>u.pathnameBase)),i=c.useRef(!1);return c.useEffect(()=>{i.current=!0}),c.useCallback(function(u,f){if(f===void 0&&(f={}),!i.current)return;if(typeof u=="number"){t.go(u);return}let v=q(u,JSON.parse(r),a);e!=="/"&&(v.pathname=F([e,v.pathname])),(f.replace?t.replace:t.push)(v,f.state)},[e,t,r,a])}function G(e){let{matches:t}=c.useContext(V),{pathname:n}=H(),a=JSON.stringify(t.map(r=>r.pathnameBase));return c.useMemo(()=>q(e,JSON.parse(a),n),[e,a,n])}function ue(e){let{basename:t="/",children:n=null,location:a,navigationType:r=x.Pop,navigator:i,static:l=!1}=e;O()&&S(!1);let u=ae(t),f=c.useMemo(()=>({basename:u,navigator:i,static:l}),[u,i,l]);typeof a=="string"&&(a=E(a));let{pathname:v="/",search:m="",hash:g="",state:P=null,key:h="default"}=a,b=c.useMemo(()=>{let k=ne(v,u);return k==null?null:{pathname:k,search:m,hash:g,state:P,key:h}},[u,v,m,g,P,h]);return b==null?null:c.createElement(B.Provider,{value:f},c.createElement($.Provider,{children:n,value:{location:b,navigationType:r}}))}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T.apply(this,arguments)}function se(e,t){if(e==null)return{};var n={},a=Object.keys(e),r,i;for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}const ce=["onClick","reloadDocument","replace","state","target","to"];function de(e){let{basename:t,children:n,window:a}=e,r=c.useRef();r.current==null&&(r.current=Y({window:a}));let i=r.current,[l,u]=c.useState({action:i.action,location:i.location});return c.useLayoutEffect(()=>i.listen(u),[i]),c.createElement(ue,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i})}function fe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const ge=c.forwardRef(function(t,n){let{onClick:a,reloadDocument:r,replace:i=!1,state:l,target:u,to:f}=t,v=se(t,ce),m=oe(f),g=he(f,{replace:i,state:l,target:u});function P(h){a&&a(h),!h.defaultPrevented&&!r&&g(h)}return c.createElement("a",T({},v,{href:m,onClick:P,ref:n,target:u}))});function he(e,t){let{target:n,replace:a,state:r}=t===void 0?{}:t,i=le(),l=H(),u=G(e);return c.useCallback(f=>{if(f.button===0&&(!n||n==="_self")&&!fe(f)){f.preventDefault();let v=!!a||j(l)===j(u);i(e,{replace:v,state:r})}},[l,i,u,a,r,n,e])}export{de as B,ge as L,le as u};
