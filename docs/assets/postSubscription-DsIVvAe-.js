import{h as n,H as a}from"./index-Dt5PkBs3.js";import{d as i}from"./delay-DW_e480v.js";const h=async({subscription_id:e,api_token:t})=>{const r=new URL("https://preprod.premiya.fivecorners.ru/api/page/setUserSubscriptions");r.searchParams.append("api_token",t),r.searchParams.append("subscription_id",e.toString());const o=await fetch(r,{method:"POST"});if(!o.ok)throw new Error("произошла ошибка сервера");const s=await o.json();if(s.status==="error"&&s.massage==="not found subscription id")throw new Error("не найден индентификатор подписки");if(s.status==="Error"&&s.massage==="Произошла ошибка")throw new Error("произошла непредвиденная ошибка при подписке");return s},p={status:"Success",massage:"Подписка успешно оформлена"},c={status:"error",massage:"not found subscription id"};n.get("https://preprod.premiya.fivecorners.ru/api/page/setUserSubscriptions",async({request:e})=>new URL(e.url).searchParams.get("scenario")==="subscription-id-error"?(await i(2e3),a.json(c)):a.json(p));export{c as a,h as p,p as r};
