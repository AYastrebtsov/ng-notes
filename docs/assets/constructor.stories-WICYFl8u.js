import{j as ce}from"./jsx-dev-runtime-BETcGmrp.js";import{T as vo,d as go}from"./index-DCKZX28E.js";import{R as pe,g as qa,c as _o,r as Ds}from"./index-BdMw_Ax9.js";import{S as $o,s as bo}from"./StyledInputText-B4C7LCRY.js";import{S as wo,s as Eo}from"./StyledSelect-CPVad4Ef.js";import"./iframe-eSz_Qt68.js";import"../sb-preview/runtime.js";import"./index-BwQhoTO9.js";import"./mapValues-ChqGHMta.js";import"./index-C72NkCm4.js";import"./index-C-I6vmrZ.js";import"./index-DuUjvt_u.js";import"./index-DrFu-skq.js";import"./utils-Dyyo_Bbn.js";import"./api.esm-CEpbZOGc.js";import"./componentbase.esm-DDX_NIJ5.js";import"./components-Ds8x5UTi.js";import"./index-ByRWxq36.js";import"./ripple.esm-BrXfoef4.js";var Sr=e=>e.type==="checkbox",rr=e=>e instanceof Date,Ue=e=>e==null;const za=e=>typeof e=="object";var Re=e=>!Ue(e)&&!Array.isArray(e)&&za(e)&&!rr(e),Ka=e=>Re(e)&&e.target?Sr(e.target)?e.target.checked:e.target.value:e,So=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ha=(e,t)=>e.has(So(t)),No=e=>{const t=e.constructor&&e.constructor.prototype;return Re(t)&&t.hasOwnProperty("isPrototypeOf")},zs=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ke(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(zs&&(e instanceof Blob||e instanceof FileList))&&(r||Re(e)))if(t=r?[]:{},!r&&!No(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Ke(e[s]));else return e;return t}var Nr=e=>Array.isArray(e)?e.filter(Boolean):[],Se=e=>e===void 0,V=(e,t,r)=>{if(!t||!Re(e))return r;const s=Nr(t.split(/[,[\].]+?/)).reduce((n,a)=>Ue(n)?n:n[a],e);return Se(s)||s===e?Se(e[t])?r:e[t]:s},nt=e=>typeof e=="boolean";const Xr={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},at={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$t={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Oo=pe.createContext(null),Ks=()=>pe.useContext(Oo);var Ga=(e,t,r,s=!0)=>{const n={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(n,a,{get:()=>{const i=a;return t._proxyFormState[i]!==at.all&&(t._proxyFormState[i]=!s||at.all),r&&(r[i]=!0),e[i]}});return n},Je=e=>Re(e)&&!Object.keys(e).length,Ja=(e,t,r,s)=>{r(e);const{name:n,...a}=e;return Je(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(i=>t[i]===(!s||at.all))},Kr=e=>Array.isArray(e)?e:[e],Ba=(e,t,r)=>!e||!t||e===t||Kr(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s)));function Hs(e){const t=pe.useRef(e);t.current=e,pe.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function Po(e){const t=Ks(),{control:r=t.control,disabled:s,name:n,exact:a}=e||{},[i,o]=pe.useState(r._formState),l=pe.useRef(!0),f=pe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=pe.useRef(n);return d.current=n,Hs({disabled:s,next:h=>l.current&&Ba(d.current,h.name,a)&&Ja(h,f.current,r._updateFormState)&&o({...r._formState,...h}),subject:r._subjects.state}),pe.useEffect(()=>(l.current=!0,f.current.isValid&&r._updateValid(!0),()=>{l.current=!1}),[r]),Ga(i,r,f.current,!1)}var mt=e=>typeof e=="string",Wa=(e,t,r,s,n)=>mt(e)?(s&&t.watch.add(e),V(r,e,n)):Array.isArray(e)?e.map(a=>(s&&t.watch.add(a),V(r,a))):(s&&(t.watchAll=!0),r);function ko(e){const t=Ks(),{control:r=t.control,name:s,defaultValue:n,disabled:a,exact:i}=e||{},o=pe.useRef(s);o.current=s,Hs({disabled:a,subject:r._subjects.values,next:d=>{Ba(o.current,d.name,i)&&f(Ke(Wa(o.current,r._names,d.values||r._formValues,!1,n)))}});const[l,f]=pe.useState(r._getWatch(s,n));return pe.useEffect(()=>r._removeUnmounted()),l}var Gs=e=>/^\w*$/.test(e),Za=e=>Nr(e.replace(/["|']|\]/g,"").split(/\.|\[/)),le=(e,t,r)=>{let s=-1;const n=Gs(t)?[t]:Za(t),a=n.length,i=a-1;for(;++s<a;){const o=n[s];let l=r;if(s!==i){const f=e[o];l=Re(f)||Array.isArray(f)?f:isNaN(+n[s+1])?{}:[]}e[o]=l,e=e[o]}return e};function Do(e){const t=Ks(),{name:r,disabled:s,control:n=t.control,shouldUnregister:a}=e,i=Ha(n._names.array,r),o=ko({control:n,name:r,defaultValue:V(n._formValues,r,V(n._defaultValues,r,e.defaultValue)),exact:!0}),l=Po({control:n,name:r}),f=pe.useRef(n.register(r,{...e.rules,value:o,...nt(e.disabled)?{disabled:e.disabled}:{}}));return pe.useEffect(()=>{const d=n._options.shouldUnregister||a,h=(k,D)=>{const b=V(n._fields,k);b&&(b._f.mount=D)};if(h(r,!0),d){const k=Ke(V(n._options.defaultValues,r));le(n._defaultValues,r,k),Se(V(n._formValues,r))&&le(n._formValues,r,k)}return()=>{(i?d&&!n._state.action:d)?n.unregister(r):h(r,!1)}},[r,n,i,a]),pe.useEffect(()=>{V(n._fields,r)&&n._updateDisabledField({disabled:s,fields:n._fields,name:r,value:V(n._fields,r)._f.value})},[s,r,n]),{field:{name:r,value:o,...nt(s)||l.disabled?{disabled:l.disabled||s}:{},onChange:pe.useCallback(d=>f.current.onChange({target:{value:Ka(d),name:r},type:Xr.CHANGE}),[r]),onBlur:pe.useCallback(()=>f.current.onBlur({target:{value:V(n._formValues,r),name:r},type:Xr.BLUR}),[r,n]),ref:d=>{const h=V(n._fields,r);h&&d&&(h._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:k=>d.setCustomValidity(k),reportValidity:()=>d.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!V(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!V(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!V(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!V(l.validatingFields,r)},error:{enumerable:!0,get:()=>V(l.errors,r)}})}}const To=e=>e.render(Do(e));var Xa=(e,t,r,s,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:n||!0}}:{},Qn=e=>({isOnSubmit:!e||e===at.onSubmit,isOnBlur:e===at.onBlur,isOnChange:e===at.onChange,isOnAll:e===at.all,isOnTouch:e===at.onTouched}),ea=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const vr=(e,t,r,s)=>{for(const n of r||Object.keys(e)){const a=V(e,n);if(a){const{_f:i,...o}=a;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],n)&&!s)break;if(i.ref&&t(i.ref,i.name)&&!s)break;vr(o,t)}else Re(o)&&vr(o,t)}}};var Co=(e,t,r)=>{const s=Nr(V(e,r));return le(s,"root",t[r]),le(e,r,s),e},Js=e=>e.type==="file",Dt=e=>typeof e=="function",Yr=e=>{if(!zs)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Hr=e=>mt(e),Bs=e=>e.type==="radio",Qr=e=>e instanceof RegExp;const ta={value:!1,isValid:!1},ra={value:!0,isValid:!0};var Ya=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Se(e[0].attributes.value)?Se(e[0].value)||e[0].value===""?ra:{value:e[0].value,isValid:!0}:ra:ta}return ta};const sa={isValid:!1,value:null};var Qa=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,sa):sa;function na(e,t,r="validate"){if(Hr(e)||Array.isArray(e)&&e.every(Hr)||nt(e)&&!e)return{type:r,message:Hr(e)?e:"",ref:t}}var Xt=e=>Re(e)&&!Qr(e)?e:{value:e,message:""},aa=async(e,t,r,s,n)=>{const{ref:a,refs:i,required:o,maxLength:l,minLength:f,min:d,max:h,pattern:k,validate:D,name:b,valueAsNumber:N,mount:$,disabled:v}=e._f,_=V(t,b);if(!$||v)return{};const F=i?i[0]:a,M=K=>{s&&F.reportValidity&&(F.setCustomValidity(nt(K)?"":K||""),F.reportValidity())},R={},Q=Bs(a),fe=Sr(a),ke=Q||fe,Ee=(N||Js(a))&&Se(a.value)&&Se(_)||Yr(a)&&a.value===""||_===""||Array.isArray(_)&&!_.length,ye=Xa.bind(null,b,r,R),oe=(K,Z,ee,$e=$t.maxLength,Te=$t.minLength)=>{const Ce=K?Z:ee;R[b]={type:K?$e:Te,message:Ce,ref:a,...ye(K?$e:Te,Ce)}};if(n?!Array.isArray(_)||!_.length:o&&(!ke&&(Ee||Ue(_))||nt(_)&&!_||fe&&!Ya(i).isValid||Q&&!Qa(i).isValid)){const{value:K,message:Z}=Hr(o)?{value:!!o,message:o}:Xt(o);if(K&&(R[b]={type:$t.required,message:Z,ref:F,...ye($t.required,Z)},!r))return M(Z),R}if(!Ee&&(!Ue(d)||!Ue(h))){let K,Z;const ee=Xt(h),$e=Xt(d);if(!Ue(_)&&!isNaN(_)){const Te=a.valueAsNumber||_&&+_;Ue(ee.value)||(K=Te>ee.value),Ue($e.value)||(Z=Te<$e.value)}else{const Te=a.valueAsDate||new Date(_),Ce=I=>new Date(new Date().toDateString()+" "+I),Qe=a.type=="time",Be=a.type=="week";mt(ee.value)&&_&&(K=Qe?Ce(_)>Ce(ee.value):Be?_>ee.value:Te>new Date(ee.value)),mt($e.value)&&_&&(Z=Qe?Ce(_)<Ce($e.value):Be?_<$e.value:Te<new Date($e.value))}if((K||Z)&&(oe(!!K,ee.message,$e.message,$t.max,$t.min),!r))return M(R[b].message),R}if((l||f)&&!Ee&&(mt(_)||n&&Array.isArray(_))){const K=Xt(l),Z=Xt(f),ee=!Ue(K.value)&&_.length>+K.value,$e=!Ue(Z.value)&&_.length<+Z.value;if((ee||$e)&&(oe(ee,K.message,Z.message),!r))return M(R[b].message),R}if(k&&!Ee&&mt(_)){const{value:K,message:Z}=Xt(k);if(Qr(K)&&!_.match(K)&&(R[b]={type:$t.pattern,message:Z,ref:a,...ye($t.pattern,Z)},!r))return M(Z),R}if(D){if(Dt(D)){const K=await D(_,t),Z=na(K,F);if(Z&&(R[b]={...Z,...ye($t.validate,Z.message)},!r))return M(Z.message),R}else if(Re(D)){let K={};for(const Z in D){if(!Je(K)&&!r)break;const ee=na(await D[Z](_,t),F,Z);ee&&(K={...ee,...ye(Z,ee.message)},M(ee.message),r&&(R[b]=K))}if(!Je(K)&&(R[b]={ref:F,...K},!r))return R}}return M(!0),R};function Ao(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Se(e)?s++:e[t[s++]];return e}function jo(e){for(const t in e)if(e.hasOwnProperty(t)&&!Se(e[t]))return!1;return!0}function je(e,t){const r=Array.isArray(t)?t:Gs(t)?[t]:Za(t),s=r.length===1?e:Ao(e,r),n=r.length-1,a=r[n];return s&&delete s[a],n!==0&&(Re(s)&&Je(s)||Array.isArray(s)&&jo(s))&&je(e,r.slice(0,-1)),e}var gs=()=>{let e=[];return{get observers(){return e},next:n=>{for(const a of e)a.next&&a.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(a=>a!==n)}}),unsubscribe:()=>{e=[]}}},es=e=>Ue(e)||!za(e);function Mt(e,t){if(es(e)||es(t))return e===t;if(rr(e)&&rr(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const n of r){const a=e[n];if(!s.includes(n))return!1;if(n!=="ref"){const i=t[n];if(rr(a)&&rr(i)||Re(a)&&Re(i)||Array.isArray(a)&&Array.isArray(i)?!Mt(a,i):a!==i)return!1}}return!0}var ei=e=>e.type==="select-multiple",Fo=e=>Bs(e)||Sr(e),_s=e=>Yr(e)&&e.isConnected,ti=e=>{for(const t in e)if(Dt(e[t]))return!0;return!1};function ts(e,t={}){const r=Array.isArray(e);if(Re(e)||r)for(const s in e)Array.isArray(e[s])||Re(e[s])&&!ti(e[s])?(t[s]=Array.isArray(e[s])?[]:{},ts(e[s],t[s])):Ue(e[s])||(t[s]=!0);return t}function ri(e,t,r){const s=Array.isArray(e);if(Re(e)||s)for(const n in e)Array.isArray(e[n])||Re(e[n])&&!ti(e[n])?Se(t)||es(r[n])?r[n]=Array.isArray(e[n])?ts(e[n],[]):{...ts(e[n])}:ri(e[n],Ue(t)?{}:t[n],r[n]):r[n]=!Mt(e[n],t[n]);return r}var xr=(e,t)=>ri(e,t,ts(t)),si=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Se(e)?e:t?e===""?NaN:e&&+e:r&&mt(e)?new Date(e):s?s(e):e;function $s(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return Js(t)?t.files:Bs(t)?Qa(e.refs).value:ei(t)?[...t.selectedOptions].map(({value:r})=>r):Sr(t)?Ya(e.refs).value:si(Se(t.value)?e.ref.value:t.value,e)}var Ro=(e,t,r,s)=>{const n={};for(const a of e){const i=V(t,a);i&&le(n,a,i._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:s}},fr=e=>Se(e)?e:Qr(e)?e.source:Re(e)?Qr(e.value)?e.value.source:e.value:e,xo=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ia(e,t,r){const s=V(e,r);if(s||Gs(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const a=n.join("."),i=V(t,a),o=V(e,a);if(i&&!Array.isArray(i)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};n.pop()}return{name:r}}var Io=(e,t,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?s.isOnBlur:n.isOnBlur)?!e:(r?s.isOnChange:n.isOnChange)?e:!0,Vo=(e,t)=>!Nr(V(e,t)).length&&je(e,t);const Mo={mode:at.onSubmit,reValidateMode:at.onChange,shouldFocusError:!0};function Uo(e={}){let t={...Mo,...e},r={submitCount:0,isDirty:!1,isLoading:Dt(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},n=Re(t.defaultValues)||Re(t.values)?Ke(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Ke(n),i={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,f=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:gs(),array:gs(),state:gs()},k=Qn(t.mode),D=Qn(t.reValidateMode),b=t.criteriaMode===at.all,N=p=>E=>{clearTimeout(f),f=setTimeout(p,E)},$=async p=>{if(d.isValid||p){const E=t.resolver?Je((await ke()).errors):await ye(s,!0);E!==r.isValid&&h.state.next({isValid:E})}},v=(p,E)=>{(d.isValidating||d.validatingFields)&&((p||Array.from(o.mount)).forEach(T=>{T&&(E?le(r.validatingFields,T,E):je(r.validatingFields,T))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Je(r.validatingFields)}))},_=(p,E=[],T,U,x=!0,j=!0)=>{if(U&&T){if(i.action=!0,j&&Array.isArray(V(s,p))){const H=T(V(s,p),U.argA,U.argB);x&&le(s,p,H)}if(j&&Array.isArray(V(r.errors,p))){const H=T(V(r.errors,p),U.argA,U.argB);x&&le(r.errors,p,H),Vo(r.errors,p)}if(d.touchedFields&&j&&Array.isArray(V(r.touchedFields,p))){const H=T(V(r.touchedFields,p),U.argA,U.argB);x&&le(r.touchedFields,p,H)}d.dirtyFields&&(r.dirtyFields=xr(n,a)),h.state.next({name:p,isDirty:K(p,E),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else le(a,p,E)},F=(p,E)=>{le(r.errors,p,E),h.state.next({errors:r.errors})},M=p=>{r.errors=p,h.state.next({errors:r.errors,isValid:!1})},R=(p,E,T,U)=>{const x=V(s,p);if(x){const j=V(a,p,Se(T)?V(n,p):T);Se(j)||U&&U.defaultChecked||E?le(a,p,E?j:$s(x._f)):$e(p,j),i.mount&&$()}},Q=(p,E,T,U,x)=>{let j=!1,H=!1;const ie={name:p},he=!!(V(s,p)&&V(s,p)._f.disabled);if(!T||U){d.isDirty&&(H=r.isDirty,r.isDirty=ie.isDirty=K(),j=H!==ie.isDirty);const Ae=he||Mt(V(n,p),E);H=!!(!he&&V(r.dirtyFields,p)),Ae||he?je(r.dirtyFields,p):le(r.dirtyFields,p,!0),ie.dirtyFields=r.dirtyFields,j=j||d.dirtyFields&&H!==!Ae}if(T){const Ae=V(r.touchedFields,p);Ae||(le(r.touchedFields,p,T),ie.touchedFields=r.touchedFields,j=j||d.touchedFields&&Ae!==T)}return j&&x&&h.state.next(ie),j?ie:{}},fe=(p,E,T,U)=>{const x=V(r.errors,p),j=d.isValid&&nt(E)&&r.isValid!==E;if(e.delayError&&T?(l=N(()=>F(p,T)),l(e.delayError)):(clearTimeout(f),l=null,T?le(r.errors,p,T):je(r.errors,p)),(T?!Mt(x,T):x)||!Je(U)||j){const H={...U,...j&&nt(E)?{isValid:E}:{},errors:r.errors,name:p};r={...r,...H},h.state.next(H)}},ke=async p=>{v(p,!0);const E=await t.resolver(a,t.context,Ro(p||o.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return v(p),E},Ee=async p=>{const{errors:E}=await ke(p);if(p)for(const T of p){const U=V(E,T);U?le(r.errors,T,U):je(r.errors,T)}else r.errors=E;return E},ye=async(p,E,T={valid:!0})=>{for(const U in p){const x=p[U];if(x){const{_f:j,...H}=x;if(j){const ie=o.array.has(j.name);v([U],!0);const he=await aa(x,a,b,t.shouldUseNativeValidation&&!E,ie);if(v([U]),he[j.name]&&(T.valid=!1,E))break;!E&&(V(he,j.name)?ie?Co(r.errors,he,j.name):le(r.errors,j.name,he[j.name]):je(r.errors,j.name))}H&&await ye(H,E,T)}}return T.valid},oe=()=>{for(const p of o.unMount){const E=V(s,p);E&&(E._f.refs?E._f.refs.every(T=>!_s(T)):!_s(E._f.ref))&&C(p)}o.unMount=new Set},K=(p,E)=>(p&&E&&le(a,p,E),!Mt(w(),n)),Z=(p,E,T)=>Wa(p,o,{...i.mount?a:Se(E)?n:mt(p)?{[p]:E}:E},T,E),ee=p=>Nr(V(i.mount?a:n,p,e.shouldUnregister?V(n,p,[]):[])),$e=(p,E,T={})=>{const U=V(s,p);let x=E;if(U){const j=U._f;j&&(!j.disabled&&le(a,p,si(E,j)),x=Yr(j.ref)&&Ue(E)?"":E,ei(j.ref)?[...j.ref.options].forEach(H=>H.selected=x.includes(H.value)):j.refs?Sr(j.ref)?j.refs.length>1?j.refs.forEach(H=>(!H.defaultChecked||!H.disabled)&&(H.checked=Array.isArray(x)?!!x.find(ie=>ie===H.value):x===H.value)):j.refs[0]&&(j.refs[0].checked=!!x):j.refs.forEach(H=>H.checked=H.value===x):Js(j.ref)?j.ref.value="":(j.ref.value=x,j.ref.type||h.values.next({name:p,values:{...a}})))}(T.shouldDirty||T.shouldTouch)&&Q(p,x,T.shouldTouch,T.shouldDirty,!0),T.shouldValidate&&I(p)},Te=(p,E,T)=>{for(const U in E){const x=E[U],j=`${p}.${U}`,H=V(s,j);(o.array.has(p)||!es(x)||H&&!H._f)&&!rr(x)?Te(j,x,T):$e(j,x,T)}},Ce=(p,E,T={})=>{const U=V(s,p),x=o.array.has(p),j=Ke(E);le(a,p,j),x?(h.array.next({name:p,values:{...a}}),(d.isDirty||d.dirtyFields)&&T.shouldDirty&&h.state.next({name:p,dirtyFields:xr(n,a),isDirty:K(p,j)})):U&&!U._f&&!Ue(j)?Te(p,j,T):$e(p,j,T),ea(p,o)&&h.state.next({...r}),h.values.next({name:i.mount?p:void 0,values:{...a}})},Qe=async p=>{i.mount=!0;const E=p.target;let T=E.name,U=!0;const x=V(s,T),j=()=>E.type?$s(x._f):Ka(p),H=ie=>{U=Number.isNaN(ie)||ie===V(a,T,ie)};if(x){let ie,he;const Ae=j(),et=p.type===Xr.BLUR||p.type===Xr.FOCUS_OUT,qe=!xo(x._f)&&!t.resolver&&!V(r.errors,T)&&!x._f.deps||Io(et,V(r.touchedFields,T),r.isSubmitted,D,k),tt=ea(T,o,et);le(a,T,Ae),et?(x._f.onBlur&&x._f.onBlur(p),l&&l(0)):x._f.onChange&&x._f.onChange(p);const Bt=Q(T,Ae,et,!1),Tr=!Je(Bt)||tt;if(!et&&h.values.next({name:T,type:p.type,values:{...a}}),qe)return d.isValid&&$(),Tr&&h.state.next({name:T,...tt?{}:Bt});if(!et&&tt&&h.state.next({...r}),t.resolver){const{errors:Nt}=await ke([T]);if(H(Ae),U){const Cr=ia(r.errors,s,T),Ar=ia(Nt,s,Cr.name||T);ie=Ar.error,T=Ar.name,he=Je(Nt)}}else v([T],!0),ie=(await aa(x,a,b,t.shouldUseNativeValidation))[T],v([T]),H(Ae),U&&(ie?he=!1:d.isValid&&(he=await ye(s,!0)));U&&(x._f.deps&&I(x._f.deps),fe(T,he,ie,Bt))}},Be=(p,E)=>{if(V(r.errors,E)&&p.focus)return p.focus(),1},I=async(p,E={})=>{let T,U;const x=Kr(p);if(t.resolver){const j=await Ee(Se(p)?p:x);T=Je(j),U=p?!x.some(H=>V(j,H)):T}else p?(U=(await Promise.all(x.map(async j=>{const H=V(s,j);return await ye(H&&H._f?{[j]:H}:H)}))).every(Boolean),!(!U&&!r.isValid)&&$()):U=T=await ye(s);return h.state.next({...!mt(p)||d.isValid&&T!==r.isValid?{}:{name:p},...t.resolver||!p?{isValid:T}:{},errors:r.errors}),E.shouldFocus&&!U&&vr(s,Be,p?x:o.mount),U},w=p=>{const E={...n,...i.mount?a:{}};return Se(p)?E:mt(p)?V(E,p):p.map(T=>V(E,T))},A=(p,E)=>({invalid:!!V((E||r).errors,p),isDirty:!!V((E||r).dirtyFields,p),isTouched:!!V((E||r).touchedFields,p),isValidating:!!V((E||r).validatingFields,p),error:V((E||r).errors,p)}),S=p=>{p&&Kr(p).forEach(E=>je(r.errors,E)),h.state.next({errors:p?r.errors:{}})},u=(p,E,T)=>{const U=(V(s,p,{_f:{}})._f||{}).ref;le(r.errors,p,{...E,ref:U}),h.state.next({name:p,errors:r.errors,isValid:!1}),T&&T.shouldFocus&&U&&U.focus&&U.focus()},y=(p,E)=>Dt(p)?h.values.subscribe({next:T=>p(Z(void 0,E),T)}):Z(p,E,!0),C=(p,E={})=>{for(const T of p?Kr(p):o.mount)o.mount.delete(T),o.array.delete(T),E.keepValue||(je(s,T),je(a,T)),!E.keepError&&je(r.errors,T),!E.keepDirty&&je(r.dirtyFields,T),!E.keepTouched&&je(r.touchedFields,T),!E.keepIsValidating&&je(r.validatingFields,T),!t.shouldUnregister&&!E.keepDefaultValue&&je(n,T);h.values.next({values:{...a}}),h.state.next({...r,...E.keepDirty?{isDirty:K()}:{}}),!E.keepIsValid&&$()},L=({disabled:p,name:E,field:T,fields:U,value:x})=>{if(nt(p)){const j=p?void 0:Se(x)?$s(T?T._f:V(U,E)._f):x;le(a,E,j),Q(E,j,!1,!1,!0)}},q=(p,E={})=>{let T=V(s,p);const U=nt(E.disabled);return le(s,p,{...T||{},_f:{...T&&T._f?T._f:{ref:{name:p}},name:p,mount:!0,...E}}),o.mount.add(p),T?L({field:T,disabled:E.disabled,name:p,value:E.value}):R(p,!0,E.value),{...U?{disabled:E.disabled}:{},...t.progressive?{required:!!E.required,min:fr(E.min),max:fr(E.max),minLength:fr(E.minLength),maxLength:fr(E.maxLength),pattern:fr(E.pattern)}:{},name:p,onChange:Qe,onBlur:Qe,ref:x=>{if(x){q(p,E),T=V(s,p);const j=Se(x.value)&&x.querySelectorAll&&x.querySelectorAll("input,select,textarea")[0]||x,H=Fo(j),ie=T._f.refs||[];if(H?ie.find(he=>he===j):j===T._f.ref)return;le(s,p,{_f:{...T._f,...H?{refs:[...ie.filter(_s),j,...Array.isArray(V(n,p))?[{}]:[]],ref:{type:j.type,name:p}}:{ref:j}}}),R(p,!1,void 0,j)}else T=V(s,p,{}),T._f&&(T._f.mount=!1),(t.shouldUnregister||E.shouldUnregister)&&!(Ha(o.array,p)&&i.action)&&o.unMount.add(p)}}},te=()=>t.shouldFocusError&&vr(s,Be,o.mount),ne=p=>{nt(p)&&(h.state.next({disabled:p}),vr(s,(E,T)=>{let U=p;const x=V(s,T);x&&nt(x._f.disabled)&&(U||(U=x._f.disabled)),E.disabled=U},0,!1))},ve=(p,E)=>async T=>{let U;T&&(T.preventDefault&&T.preventDefault(),T.persist&&T.persist());let x=Ke(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:j,values:H}=await ke();r.errors=j,x=H}else await ye(s);if(je(r.errors,"root"),Je(r.errors)){h.state.next({errors:{}});try{await p(x,T)}catch(j){U=j}}else E&&await E({...r.errors},T),te(),setTimeout(te);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Je(r.errors)&&!U,submitCount:r.submitCount+1,errors:r.errors}),U)throw U},We=(p,E={})=>{V(s,p)&&(Se(E.defaultValue)?Ce(p,Ke(V(n,p))):(Ce(p,E.defaultValue),le(n,p,Ke(E.defaultValue))),E.keepTouched||je(r.touchedFields,p),E.keepDirty||(je(r.dirtyFields,p),r.isDirty=E.defaultValue?K(p,Ke(V(n,p))):K()),E.keepError||(je(r.errors,p),d.isValid&&$()),h.state.next({...r}))},gt=(p,E={})=>{const T=p?Ke(p):n,U=Ke(T),x=Je(p),j=x?n:U;if(E.keepDefaultValues||(n=T),!E.keepValues){if(E.keepDirtyValues)for(const H of o.mount)V(r.dirtyFields,H)?le(j,H,V(a,H)):Ce(H,V(j,H));else{if(zs&&Se(p))for(const H of o.mount){const ie=V(s,H);if(ie&&ie._f){const he=Array.isArray(ie._f.refs)?ie._f.refs[0]:ie._f.ref;if(Yr(he)){const Ae=he.closest("form");if(Ae){Ae.reset();break}}}}s={}}a=e.shouldUnregister?E.keepDefaultValues?Ke(n):{}:Ke(j),h.array.next({values:{...j}}),h.values.next({values:{...j}})}o={mount:E.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!E.keepIsValid||!!E.keepDirtyValues,i.watch=!!e.shouldUnregister,h.state.next({submitCount:E.keepSubmitCount?r.submitCount:0,isDirty:x?!1:E.keepDirty?r.isDirty:!!(E.keepDefaultValues&&!Mt(p,n)),isSubmitted:E.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:x?[]:E.keepDirtyValues?E.keepDefaultValues&&a?xr(n,a):r.dirtyFields:E.keepDefaultValues&&p?xr(n,p):{},touchedFields:E.keepTouched?r.touchedFields:{},errors:E.keepErrors?r.errors:{},isSubmitSuccessful:E.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},St=(p,E)=>gt(Dt(p)?p(a):p,E);return{control:{register:q,unregister:C,getFieldState:A,handleSubmit:ve,setError:u,_executeSchema:ke,_getWatch:Z,_getDirty:K,_updateValid:$,_removeUnmounted:oe,_updateFieldArray:_,_updateDisabledField:L,_getFieldArray:ee,_reset:gt,_resetDefaultValues:()=>Dt(t.defaultValues)&&t.defaultValues().then(p=>{St(p,t.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:p=>{r={...r,...p}},_disableForm:ne,_subjects:h,_proxyFormState:d,_setErrors:M,get _fields(){return s},get _formValues(){return a},get _state(){return i},set _state(p){i=p},get _defaultValues(){return n},get _names(){return o},set _names(p){o=p},get _formState(){return r},set _formState(p){r=p},get _options(){return t},set _options(p){t={...t,...p}}},trigger:I,register:q,handleSubmit:ve,watch:y,setValue:Ce,getValues:w,reset:St,resetField:We,clearErrors:S,unregister:C,setError:u,setFocus:(p,E={})=>{const T=V(s,p),U=T&&T._f;if(U){const x=U.refs?U.refs[0]:U.ref;x.focus&&(x.focus(),E.shouldSelect&&x.select())}},getFieldState:A}}function Lo(e={}){const t=pe.useRef(),r=pe.useRef(),[s,n]=pe.useState({isDirty:!1,isValidating:!1,isLoading:Dt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Dt(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Uo(e),formState:s});const a=t.current.control;return a._options=e,Hs({subject:a._subjects.state,next:i=>{Ja(i,a._proxyFormState,a._updateFormState,!0)&&n({...a._formState})}}),pe.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),pe.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==s.isDirty&&a._subjects.state.next({isDirty:i})}},[a,s.isDirty]),pe.useEffect(()=>{e.values&&!Mt(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,n(i=>({...i}))):a._resetDefaultValues()},[e.values,a]),pe.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),pe.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),pe.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=Ga(s,a),t.current}var oa=function(e,t,r){if(e&&"reportValidity"in e){var s=V(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},ni=function(e,t){var r=function(n){var a=t.fields[n];a&&a.ref&&"reportValidity"in a.ref?oa(a.ref,n,e):a.refs&&a.refs.forEach(function(i){return oa(i,n,e)})};for(var s in t.fields)r(s)},qo=function(e,t){t.shouldUseNativeValidation&&ni(e,t);var r={};for(var s in e){var n=V(t.fields,s),a=Object.assign(e[s]||{},{ref:n&&n.ref});if(zo(t.names||Object.keys(e),s)){var i=Object.assign({},V(r,s));le(i,"root",a),le(r,s,i)}else le(r,s,a)}return r},zo=function(e,t){return e.some(function(r){return r.startsWith(t+".")})};function Ko(e,t,r){return t===void 0&&(t={}),r===void 0&&(r={}),function(s,n,a){try{return Promise.resolve(function(i,o){try{var l=(t.context&&console.warn("You should not used the yup options context. Please, use the 'useForm' context object instead"),Promise.resolve(e[r.mode==="sync"?"validateSync":"validate"](s,Object.assign({abortEarly:!1},t,{context:n}))).then(function(f){return a.shouldUseNativeValidation&&ni({},a),{values:r.raw?s:f,errors:{}}}))}catch(f){return o(f)}return l&&l.then?l.then(void 0,o):l}(0,function(i){if(!i.inner)throw i;return{values:{},errors:qo((o=i,l=!a.shouldUseNativeValidation&&a.criteriaMode==="all",(o.inner||[]).reduce(function(f,d){if(f[d.path]||(f[d.path]={message:d.message,type:d.type}),l){var h=f[d.path].types,k=h&&h[d.type];f[d.path]=Xa(d.path,l,f,d.type,k?[].concat(k,d.message):d.message)}return f},{})),a)};var o,l}))}catch(i){return Promise.reject(i)}}}function Kt(e){this._maxSize=e,this.clear()}Kt.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Kt.prototype.get=function(e){return this._values[e]};Kt.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var Ho=/[^.^\]^[]+|(?=\[\]|\.\.)/g,ai=/^\d+$/,Go=/^\d/,Jo=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Bo=/^\s*(['"]?)(.*?)(\1)\s*$/,Ws=512,ua=new Kt(Ws),la=new Kt(Ws),ca=new Kt(Ws),Lt={Cache:Kt,split:Ts,normalizePath:bs,setter:function(e){var t=bs(e);return la.get(e)||la.set(e,function(s,n){for(var a=0,i=t.length,o=s;a<i-1;){var l=t[a];if(l==="__proto__"||l==="constructor"||l==="prototype")return s;o=o[t[a++]]}o[t[a]]=n})},getter:function(e,t){var r=bs(e);return ca.get(e)||ca.set(e,function(n){for(var a=0,i=r.length;a<i;)if(n!=null||!t)n=n[r[a++]];else return;return n})},join:function(e){return e.reduce(function(t,r){return t+(Zs(r)||ai.test(r)?"["+r+"]":(t?".":"")+r)},"")},forEach:function(e,t,r){Wo(Array.isArray(e)?e:Ts(e),t,r)}};function bs(e){return ua.get(e)||ua.set(e,Ts(e).map(function(t){return t.replace(Bo,"$2")}))}function Ts(e){return e.match(Ho)||[""]}function Wo(e,t,r){var s=e.length,n,a,i,o;for(a=0;a<s;a++)n=e[a],n&&(Yo(n)&&(n='"'+n+'"'),o=Zs(n),i=!o&&/^\d+$/.test(n),t.call(r,n,o,i,a,e))}function Zs(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function Zo(e){return e.match(Go)&&!e.match(ai)}function Xo(e){return Jo.test(e)}function Yo(e){return!Zs(e)&&(Zo(e)||Xo(e))}const Qo=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,ls=e=>e.match(Qo)||[],cs=e=>e[0].toUpperCase()+e.slice(1),Xs=(e,t)=>ls(e).join(t).toLowerCase(),ii=e=>ls(e).reduce((t,r)=>`${t}${t?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),eu=e=>cs(ii(e)),tu=e=>Xs(e,"_"),ru=e=>Xs(e,"-"),su=e=>cs(Xs(e," ")),nu=e=>ls(e).map(cs).join(" ");var ws={words:ls,upperFirst:cs,camelCase:ii,pascalCase:eu,snakeCase:tu,kebabCase:ru,sentenceCase:su,titleCase:nu},Ys={exports:{}};Ys.exports=function(e){return oi(au(e),e)};Ys.exports.array=oi;function oi(e,t){var r=e.length,s=new Array(r),n={},a=r,i=iu(t),o=ou(e);for(t.forEach(function(f){if(!o.has(f[0])||!o.has(f[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});a--;)n[a]||l(e[a],a,new Set);return s;function l(f,d,h){if(h.has(f)){var k;try{k=", node was:"+JSON.stringify(f)}catch{k=""}throw new Error("Cyclic dependency"+k)}if(!o.has(f))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(f));if(!n[d]){n[d]=!0;var D=i.get(f)||new Set;if(D=Array.from(D),d=D.length){h.add(f);do{var b=D[--d];l(b,o.get(b),h)}while(d);h.delete(f)}s[--r]=f}}}function au(e){for(var t=new Set,r=0,s=e.length;r<s;r++){var n=e[r];t.add(n[0]),t.add(n[1])}return Array.from(t)}function iu(e){for(var t=new Map,r=0,s=e.length;r<s;r++){var n=e[r];t.has(n[0])||t.set(n[0],new Set),t.has(n[1])||t.set(n[1],new Set),t.get(n[0]).add(n[1])}return t}function ou(e){for(var t=new Map,r=0,s=e.length;r<s;r++)t.set(e[r],r);return t}var uu=Ys.exports;const lu=qa(uu),cu=Object.prototype.toString,du=Error.prototype.toString,fu=RegExp.prototype.toString,hu=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",mu=/^Symbol\((.*)\)(.*)$/;function pu(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function da(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const r=typeof e;if(r==="number")return pu(e);if(r==="string")return t?`"${e}"`:e;if(r==="function")return"[Function "+(e.name||"anonymous")+"]";if(r==="symbol")return hu.call(e).replace(mu,"Symbol($1)");const s=cu.call(e).slice(8,-1);return s==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):s==="Error"||e instanceof Error?"["+du.call(e)+"]":s==="RegExp"?fu.call(e):null}function Ct(e,t){let r=da(e,t);return r!==null?r:JSON.stringify(e,function(s,n){let a=da(this[s],t);return a!==null?a:n},2)}function ui(e){return e==null?[]:[].concat(e)}let li,ci,di,yu=/\$\{\s*(\w+)\s*\}/g;li=Symbol.toStringTag;class fa{constructor(t,r,s,n){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[li]="Error",this.name="ValidationError",this.value=r,this.path=s,this.type=n,this.errors=[],this.inner=[],ui(t).forEach(a=>{if(Ye.isError(a)){this.errors.push(...a.errors);const i=a.inner.length?a.inner:[a];this.inner.push(...i)}else this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}ci=Symbol.hasInstance;di=Symbol.toStringTag;let Ye=class fi extends Error{static formatError(t,r){const s=r.label||r.path||"this";return s!==r.path&&(r=Object.assign({},r,{path:s})),typeof t=="string"?t.replace(yu,(n,a)=>Ct(r[a])):typeof t=="function"?t(r):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,r,s,n,a){const i=new fa(t,r,s,n);if(a)return i;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[di]="Error",this.name=i.name,this.message=i.message,this.type=i.type,this.value=i.value,this.path=i.path,this.errors=i.errors,this.inner=i.inner,Error.captureStackTrace&&Error.captureStackTrace(this,fi)}static[ci](t){return fa[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}},ft={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:r,originalValue:s})=>{const n=s!=null&&s!==r?` (cast from the value \`${Ct(s,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${Ct(r,!0)}\``+n:`${e} must match the configured type. The validated value was: \`${Ct(r,!0)}\``+n}},ze={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},vu={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Cs={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},gu={isValue:"${path} field must be ${value}"},As={noUnknown:"${path} field has unspecified keys: ${unknown}"},_u={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},$u={notType:e=>{const{path:t,value:r,spec:s}=e,n=s.types.length;if(Array.isArray(r)){if(r.length<n)return`${t} tuple value has too few items, expected a length of ${n} but got ${r.length} for value: \`${Ct(r,!0)}\``;if(r.length>n)return`${t} tuple value has too many items, expected a length of ${n} but got ${r.length} for value: \`${Ct(r,!0)}\``}return Ye.formatError(ft.notType,e)}};Object.assign(Object.create(null),{mixed:ft,string:ze,number:vu,date:Cs,object:As,array:_u,boolean:gu,tuple:$u});const Qs=e=>e&&e.__isYupSchema__;class rs{static fromOptions(t,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:s,then:n,otherwise:a}=r,i=typeof s=="function"?s:(...o)=>o.every(l=>l===s);return new rs(t,(o,l)=>{var f;let d=i(...o)?n:a;return(f=d==null?void 0:d(l))!=null?f:l})}constructor(t,r){this.fn=void 0,this.refs=t,this.refs=t,this.fn=r}resolve(t,r){let s=this.refs.map(a=>a.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),n=this.fn(s,t,r);if(n===void 0||n===t)return t;if(!Qs(n))throw new TypeError("conditions must return a schema object");return n.resolve(r)}}const Ir={context:"$",value:"."};class Ht{constructor(t,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Ir.context,this.isValue=this.key[0]===Ir.value,this.isSibling=!this.isContext&&!this.isValue;let s=this.isContext?Ir.context:this.isValue?Ir.value:"";this.path=this.key.slice(s.length),this.getter=this.path&&Lt.getter(this.path,!0),this.map=r.map}getValue(t,r,s){let n=this.isContext?s:this.isValue?t:r;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(t,r){return this.getValue(t,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}Ht.prototype.__isYupRef=!0;const Ut=e=>e==null;function Yt(e){function t({value:r,path:s="",options:n,originalValue:a,schema:i},o,l){const{name:f,test:d,params:h,message:k,skipAbsent:D}=e;let{parent:b,context:N,abortEarly:$=i.spec.abortEarly,disableStackTrace:v=i.spec.disableStackTrace}=n;function _(oe){return Ht.isRef(oe)?oe.getValue(r,b,N):oe}function F(oe={}){const K=Object.assign({value:r,originalValue:a,label:i.spec.label,path:oe.path||s,spec:i.spec,disableStackTrace:oe.disableStackTrace||v},h,oe.params);for(const ee of Object.keys(K))K[ee]=_(K[ee]);const Z=new Ye(Ye.formatError(oe.message||k,K),r,K.path,oe.type||f,K.disableStackTrace);return Z.params=K,Z}const M=$?o:l;let R={path:s,parent:b,type:f,from:n.from,createError:F,resolve:_,options:n,originalValue:a,schema:i};const Q=oe=>{Ye.isError(oe)?M(oe):oe?l(null):M(F())},fe=oe=>{Ye.isError(oe)?M(oe):o(oe)};if(D&&Ut(r))return Q(!0);let Ee;try{var ye;if(Ee=d.call(R,r,R),typeof((ye=Ee)==null?void 0:ye.then)=="function"){if(n.sync)throw new Error(`Validation test of type: "${R.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(Ee).then(Q,fe)}}catch(oe){fe(oe);return}Q(Ee)}return t.OPTIONS=e,t}function bu(e,t,r,s=r){let n,a,i;return t?(Lt.forEach(t,(o,l,f)=>{let d=l?o.slice(1,o.length-1):o;e=e.resolve({context:s,parent:n,value:r});let h=e.type==="tuple",k=f?parseInt(d,10):0;if(e.innerType||h){if(h&&!f)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${i}" must contain an index to the tuple element, e.g. "${i}[0]"`);if(r&&k>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${t}. because there is no value at that index. `);n=r,r=r&&r[k],e=h?e.spec.types[k]:e.innerType}if(!f){if(!e.fields||!e.fields[d])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${i} which is a type: "${e.type}")`);n=r,r=r&&r[d],e=e.fields[d]}a=d,i=l?"["+o+"]":"."+o}),{schema:e,parent:n,parentPath:a}):{parent:n,parentPath:t,schema:e}}class ss extends Set{describe(){const t=[];for(const r of this.values())t.push(Ht.isRef(r)?r.describe():r);return t}resolveAll(t){let r=[];for(const s of this.values())r.push(t(s));return r}clone(){return new ss(this.values())}merge(t,r){const s=this.clone();return t.forEach(n=>s.add(n)),r.forEach(n=>s.delete(n)),s}}function sr(e,t=new Map){if(Qs(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let r;if(e instanceof Date)r=new Date(e.getTime()),t.set(e,r);else if(e instanceof RegExp)r=new RegExp(e),t.set(e,r);else if(Array.isArray(e)){r=new Array(e.length),t.set(e,r);for(let s=0;s<e.length;s++)r[s]=sr(e[s],t)}else if(e instanceof Map){r=new Map,t.set(e,r);for(const[s,n]of e.entries())r.set(s,sr(n,t))}else if(e instanceof Set){r=new Set,t.set(e,r);for(const s of e)r.add(sr(s,t))}else if(e instanceof Object){r={},t.set(e,r);for(const[s,n]of Object.entries(e))r[s]=sr(n,t)}else throw Error(`Unable to clone ${e}`);return r}class yt{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ss,this._blacklist=new ss,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ft.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=sr(Object.assign({},this.spec,t)),r}label(t){let r=this.clone();return r.spec.label=t,r}meta(...t){if(t.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},t[0]),r}withMutation(t){let r=this._mutate;this._mutate=!0;let s=t(this);return this._mutate=r,s}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let r=this,s=t.clone();const n=Object.assign({},r.spec,s.spec);return s.spec=n,s.internalTests=Object.assign({},r.internalTests,s.internalTests),s._whitelist=r._whitelist.merge(t._whitelist,t._blacklist),s._blacklist=r._blacklist.merge(t._blacklist,t._whitelist),s.tests=r.tests,s.exclusiveTests=r.exclusiveTests,s.withMutation(a=>{t.tests.forEach(i=>{a.test(i.OPTIONS)})}),s.transforms=[...r.transforms,...s.transforms],s}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let r=this;if(r.conditions.length){let s=r.conditions;r=r.clone(),r.conditions=[],r=s.reduce((n,a)=>a.resolve(n,t),r),r=r.resolve(t)}return r}resolveOptions(t){var r,s,n,a;return Object.assign({},t,{from:t.from||[],strict:(r=t.strict)!=null?r:this.spec.strict,abortEarly:(s=t.abortEarly)!=null?s:this.spec.abortEarly,recursive:(n=t.recursive)!=null?n:this.spec.recursive,disableStackTrace:(a=t.disableStackTrace)!=null?a:this.spec.disableStackTrace})}cast(t,r={}){let s=this.resolve(Object.assign({value:t},r)),n=r.assert==="ignore-optionality",a=s._cast(t,r);if(r.assert!==!1&&!s.isType(a)){if(n&&Ut(a))return a;let i=Ct(t),o=Ct(a);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${s.type}". 

attempted value: ${i} 
`+(o!==i?`result of cast: ${o}`:""))}return a}_cast(t,r){let s=t===void 0?t:this.transforms.reduce((n,a)=>a.call(this,n,t,this),t);return s===void 0&&(s=this.getDefault(r)),s}_validate(t,r={},s,n){let{path:a,originalValue:i=t,strict:o=this.spec.strict}=r,l=t;o||(l=this._cast(l,Object.assign({assert:!1},r)));let f=[];for(let d of Object.values(this.internalTests))d&&f.push(d);this.runTests({path:a,value:l,originalValue:i,options:r,tests:f},s,d=>{if(d.length)return n(d,l);this.runTests({path:a,value:l,originalValue:i,options:r,tests:this.tests},s,n)})}runTests(t,r,s){let n=!1,{tests:a,value:i,originalValue:o,path:l,options:f}=t,d=N=>{n||(n=!0,r(N,i))},h=N=>{n||(n=!0,s(N,i))},k=a.length,D=[];if(!k)return h([]);let b={value:i,originalValue:o,path:l,options:f,schema:this};for(let N=0;N<a.length;N++){const $=a[N];$(b,d,function(_){_&&(Array.isArray(_)?D.push(..._):D.push(_)),--k<=0&&h(D)})}}asNestedTest({key:t,index:r,parent:s,parentPath:n,originalParent:a,options:i}){const o=t??r;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let f=s[o];const d=Object.assign({},i,{strict:!0,parent:s,value:f,originalValue:a[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${n||""}[${l?o:`"${o}"`}]`:(n?`${n}.`:"")+t});return(h,k,D)=>this.resolve(d)._validate(f,d,k,D)}validate(t,r){var s;let n=this.resolve(Object.assign({},r,{value:t})),a=(s=r==null?void 0:r.disableStackTrace)!=null?s:n.spec.disableStackTrace;return new Promise((i,o)=>n._validate(t,r,(l,f)=>{Ye.isError(l)&&(l.value=f),o(l)},(l,f)=>{l.length?o(new Ye(l,f,void 0,void 0,a)):i(f)}))}validateSync(t,r){var s;let n=this.resolve(Object.assign({},r,{value:t})),a,i=(s=r==null?void 0:r.disableStackTrace)!=null?s:n.spec.disableStackTrace;return n._validate(t,Object.assign({},r,{sync:!0}),(o,l)=>{throw Ye.isError(o)&&(o.value=l),o},(o,l)=>{if(o.length)throw new Ye(o,t,void 0,void 0,i);a=l}),a}isValid(t,r){return this.validate(t,r).then(()=>!0,s=>{if(Ye.isError(s))return!1;throw s})}isValidSync(t,r){try{return this.validateSync(t,r),!0}catch(s){if(Ye.isError(s))return!1;throw s}}_getDefault(t){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,t):sr(r)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,r){const s=this.clone({nullable:t});return s.internalTests.nullable=Yt({message:r,name:"nullable",test(n){return n===null?this.schema.spec.nullable:!0}}),s}optionality(t,r){const s=this.clone({optional:t});return s.internalTests.optionality=Yt({message:r,name:"optionality",test(n){return n===void 0?this.schema.spec.optional:!0}}),s}optional(){return this.optionality(!0)}defined(t=ft.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=ft.notNull){return this.nullability(!1,t)}required(t=ft.required){return this.clone().withMutation(r=>r.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let r=this.clone();return r.transforms.push(t),r}test(...t){let r;if(t.length===1?typeof t[0]=="function"?r={test:t[0]}:r=t[0]:t.length===2?r={name:t[0],test:t[1]}:r={name:t[0],message:t[1],test:t[2]},r.message===void 0&&(r.message=ft.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let s=this.clone(),n=Yt(r),a=r.exclusive||r.name&&s.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(s.exclusiveTests[r.name]=!!r.exclusive),s.tests=s.tests.filter(i=>!(i.OPTIONS.name===r.name&&(a||i.OPTIONS.test===n.OPTIONS.test))),s.tests.push(n),s}when(t,r){!Array.isArray(t)&&typeof t!="string"&&(r=t,t=".");let s=this.clone(),n=ui(t).map(a=>new Ht(a));return n.forEach(a=>{a.isSibling&&s.deps.push(a.key)}),s.conditions.push(typeof r=="function"?new rs(n,r):rs.fromOptions(n,r)),s}typeError(t){let r=this.clone();return r.internalTests.typeError=Yt({message:t,name:"typeError",skipAbsent:!0,test(s){return this.schema._typeCheck(s)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(t,r=ft.oneOf){let s=this.clone();return t.forEach(n=>{s._whitelist.add(n),s._blacklist.delete(n)}),s.internalTests.whiteList=Yt({message:r,name:"oneOf",skipAbsent:!0,test(n){let a=this.schema._whitelist,i=a.resolveAll(this.resolve);return i.includes(n)?!0:this.createError({params:{values:Array.from(a).join(", "),resolved:i}})}}),s}notOneOf(t,r=ft.notOneOf){let s=this.clone();return t.forEach(n=>{s._blacklist.add(n),s._whitelist.delete(n)}),s.internalTests.blacklist=Yt({message:r,name:"notOneOf",test(n){let a=this.schema._blacklist,i=a.resolveAll(this.resolve);return i.includes(n)?this.createError({params:{values:Array.from(a).join(", "),resolved:i}}):!0}}),s}strip(t=!0){let r=this.clone();return r.spec.strip=t,r}describe(t){const r=(t?this.resolve(t):this).clone(),{label:s,meta:n,optional:a,nullable:i}=r.spec;return{meta:n,label:s,optional:a,nullable:i,default:r.getDefault(t),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,f,d)=>d.findIndex(h=>h.name===l.name)===f)}}}yt.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])yt.prototype[`${e}At`]=function(t,r,s={}){const{parent:n,parentPath:a,schema:i}=bu(this,t,r,s.context);return i[e](n&&n[a],Object.assign({},s,{parent:n,path:t}))};for(const e of["equals","is"])yt.prototype[e]=yt.prototype.oneOf;for(const e of["not","nope"])yt.prototype[e]=yt.prototype.notOneOf;const wu=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Eu(e){const t=js(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let r=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(r=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(r=0-r)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+r,t.second,t.millisecond)}function js(e){var t,r;const s=wu.exec(e);return s?{year:bt(s[1]),month:bt(s[2],1)-1,day:bt(s[3],1),hour:bt(s[4]),minute:bt(s[5]),second:bt(s[6]),millisecond:s[7]?bt(s[7].substring(0,3)):0,precision:(t=(r=s[7])==null?void 0:r.length)!=null?t:void 0,z:s[8]||void 0,plusMinus:s[9]||void 0,hourOffset:bt(s[10]),minuteOffset:bt(s[11])}:null}function bt(e,t=0){return Number(e)||t}let Su=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Nu=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Ou=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Pu="^\\d{4}-\\d{2}-\\d{2}",ku="\\d{2}:\\d{2}:\\d{2}",Du="(([+-]\\d{2}(:?\\d{2})?)|Z)",Tu=new RegExp(`${Pu}T${ku}(\\.\\d+)?${Du}$`),Cu=e=>Ut(e)||e===e.trim(),Au={}.toString();function pr(){return new hi}class hi extends yt{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,r,s)=>{if(!s.spec.coerce||s.isType(t)||Array.isArray(t))return t;const n=t!=null&&t.toString?t.toString():t;return n===Au?t:n})})}required(t){return super.required(t).withMutation(r=>r.test({message:t||ft.required,name:"required",skipAbsent:!0,test:s=>!!s.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(r=>r.OPTIONS.name!=="required"),t))}length(t,r=ze.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(s){return s.length===this.resolve(t)}})}min(t,r=ze.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(s){return s.length>=this.resolve(t)}})}max(t,r=ze.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:t},skipAbsent:!0,test(s){return s.length<=this.resolve(t)}})}matches(t,r){let s=!1,n,a;return r&&(typeof r=="object"?{excludeEmptyString:s=!1,message:n,name:a}=r:n=r),this.test({name:a||"matches",message:n||ze.matches,params:{regex:t},skipAbsent:!0,test:i=>i===""&&s||i.search(t)!==-1})}email(t=ze.email){return this.matches(Su,{name:"email",message:t,excludeEmptyString:!0})}url(t=ze.url){return this.matches(Nu,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=ze.uuid){return this.matches(Ou,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let r="",s,n;return t&&(typeof t=="object"?{message:r="",allowOffset:s=!1,precision:n=void 0}=t:r=t),this.matches(Tu,{name:"datetime",message:r||ze.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||ze.datetime_offset,params:{allowOffset:s},skipAbsent:!0,test:a=>{if(!a||s)return!0;const i=js(a);return i?!!i.z:!1}}).test({name:"datetime_precision",message:r||ze.datetime_precision,params:{precision:n},skipAbsent:!0,test:a=>{if(!a||n==null)return!0;const i=js(a);return i?i.precision===n:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=ze.trim){return this.transform(r=>r!=null?r.trim():r).test({message:t,name:"trim",test:Cu})}lowercase(t=ze.lowercase){return this.transform(r=>Ut(r)?r:r.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>Ut(r)||r===r.toLowerCase()})}uppercase(t=ze.uppercase){return this.transform(r=>Ut(r)?r:r.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>Ut(r)||r===r.toUpperCase()})}}pr.prototype=hi.prototype;let ju=new Date(""),Fu=e=>Object.prototype.toString.call(e)==="[object Date]";class ds extends yt{constructor(){super({type:"date",check(t){return Fu(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,r,s)=>!s.spec.coerce||s.isType(t)||t===null?t:(t=Eu(t),isNaN(t)?ds.INVALID_DATE:new Date(t)))})}prepareParam(t,r){let s;if(Ht.isRef(t))s=t;else{let n=this.cast(t);if(!this._typeCheck(n))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);s=n}return s}min(t,r=Cs.min){let s=this.prepareParam(t,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n>=this.resolve(s)}})}max(t,r=Cs.max){let s=this.prepareParam(t,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(n){return n<=this.resolve(s)}})}}ds.INVALID_DATE=ju;ds.prototype;function Ru(e,t=[]){let r=[],s=new Set,n=new Set(t.map(([i,o])=>`${i}-${o}`));function a(i,o){let l=Lt.split(i)[0];s.add(l),n.has(`${o}-${l}`)||r.push([o,l])}for(const i of Object.keys(e)){let o=e[i];s.add(i),Ht.isRef(o)&&o.isSibling?a(o.path,i):Qs(o)&&"deps"in o&&o.deps.forEach(l=>a(l,i))}return lu.array(Array.from(s),r).reverse()}function ha(e,t){let r=1/0;return e.some((s,n)=>{var a;if((a=t.path)!=null&&a.includes(s))return r=n,!0}),r}function mi(e){return(t,r)=>ha(e,t)-ha(e,r)}const xu=(e,t,r)=>{if(typeof e!="string")return e;let s=e;try{s=JSON.parse(e)}catch{}return r.isType(s)?s:e};function Gr(e){if("fields"in e){const t={};for(const[r,s]of Object.entries(e.fields))t[r]=Gr(s);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=Gr(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(Gr)}):"optional"in e?e.optional():e}const Iu=(e,t)=>{const r=[...Lt.normalizePath(t)];if(r.length===1)return r[0]in e;let s=r.pop(),n=Lt.getter(Lt.join(r),!0)(e);return!!(n&&s in n)};let ma=e=>Object.prototype.toString.call(e)==="[object Object]";function Vu(e,t){let r=Object.keys(e.fields);return Object.keys(t).filter(s=>r.indexOf(s)===-1)}const Mu=mi([]);function pi(e){return new yi(e)}class yi extends yt{constructor(t){super({type:"object",check(r){return ma(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=Mu,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,r={}){var s;let n=super._cast(t,r);if(n===void 0)return this.getDefault(r);if(!this._typeCheck(n))return n;let a=this.fields,i=(s=r.stripUnknown)!=null?s:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(n).filter(h=>!this._nodes.includes(h))),l={},f=Object.assign({},r,{parent:l,__validating:r.__validating||!1}),d=!1;for(const h of o){let k=a[h],D=h in n;if(k){let b,N=n[h];f.path=(r.path?`${r.path}.`:"")+h,k=k.resolve({value:N,context:r.context,parent:l});let $=k instanceof yt?k.spec:void 0,v=$==null?void 0:$.strict;if($!=null&&$.strip){d=d||h in n;continue}b=!r.__validating||!v?k.cast(n[h],f):n[h],b!==void 0&&(l[h]=b)}else D&&!i&&(l[h]=n[h]);(D!==h in l||l[h]!==n[h])&&(d=!0)}return d?l:n}_validate(t,r={},s,n){let{from:a=[],originalValue:i=t,recursive:o=this.spec.recursive}=r;r.from=[{schema:this,value:i},...a],r.__validating=!0,r.originalValue=i,super._validate(t,r,s,(l,f)=>{if(!o||!ma(f)){n(l,f);return}i=i||f;let d=[];for(let h of this._nodes){let k=this.fields[h];!k||Ht.isRef(k)||d.push(k.asNestedTest({options:r,key:h,parent:f,parentPath:r.path,originalParent:i}))}this.runTests({tests:d,value:f,originalValue:i,options:r},s,h=>{n(h.sort(this._sortErrors).concat(l),f)})})}clone(t){const r=super.clone(t);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(t){let r=super.concat(t),s=r.fields;for(let[n,a]of Object.entries(this.fields)){const i=s[n];s[n]=i===void 0?a:i}return r.withMutation(n=>n.setFields(s,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let r={};return this._nodes.forEach(s=>{var n;const a=this.fields[s];let i=t;(n=i)!=null&&n.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[s]})),r[s]=a&&"getDefault"in a?a.getDefault(i):void 0}),r}setFields(t,r){let s=this.clone();return s.fields=t,s._nodes=Ru(t,r),s._sortErrors=mi(Object.keys(t)),r&&(s._excludedEdges=r),s}shape(t,r=[]){return this.clone().withMutation(s=>{let n=s._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),n=[...s._excludedEdges,...r]),s.setFields(Object.assign(s.fields,t),n)})}partial(){const t={};for(const[r,s]of Object.entries(this.fields))t[r]="optional"in s&&s.optional instanceof Function?s.optional():s;return this.setFields(t)}deepPartial(){return Gr(this)}pick(t){const r={};for(const s of t)this.fields[s]&&(r[s]=this.fields[s]);return this.setFields(r,this._excludedEdges.filter(([s,n])=>t.includes(s)&&t.includes(n)))}omit(t){const r=[];for(const s of Object.keys(this.fields))t.includes(s)||r.push(s);return this.pick(r)}from(t,r,s){let n=Lt.getter(t,!0);return this.transform(a=>{if(!a)return a;let i=a;return Iu(a,t)&&(i=Object.assign({},a),s||delete i[t],i[r]=n(a)),i})}json(){return this.transform(xu)}noUnknown(t=!0,r=As.noUnknown){typeof t!="boolean"&&(r=t,t=!0);let s=this.test({name:"noUnknown",exclusive:!0,message:r,test(n){if(n==null)return!0;const a=Vu(this.schema,n);return!t||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return s.spec.noUnknown=t,s}unknown(t=!0,r=As.noUnknown){return this.noUnknown(!t,r)}transformKeys(t){return this.transform(r=>{if(!r)return r;const s={};for(const n of Object.keys(r))s[t(n)]=r[n];return s})}camelCase(){return this.transformKeys(ws.camelCase)}snakeCase(){return this.transformKeys(ws.snakeCase)}constantCase(){return this.transformKeys(t=>ws.snakeCase(t).toUpperCase())}describe(t){const r=(t?this.resolve(t):this).clone(),s=super.describe(t);s.fields={};for(const[a,i]of Object.entries(r.fields)){var n;let o=t;(n=o)!=null&&n.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[a]})),s.fields[a]=i.describe(o)}return s}}pi.prototype=yi.prototype;var Fs={exports:{}},vi={},ot={},ir={},Or={},se={},Er={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(_){if(super(),!e.IDENTIFIER.test(_))throw new Error("CodeGen: name must be a valid identifier");this.str=_}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class s extends t{constructor(_){super(),this._items=typeof _=="string"?[_]:_}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const _=this._items[0];return _===""||_==='""'}get str(){var _;return(_=this._str)!==null&&_!==void 0?_:this._str=this._items.reduce((F,M)=>`${F}${M}`,"")}get names(){var _;return(_=this._names)!==null&&_!==void 0?_:this._names=this._items.reduce((F,M)=>(M instanceof r&&(F[M.str]=(F[M.str]||0)+1),F),{})}}e._Code=s,e.nil=new s("");function n(v,..._){const F=[v[0]];let M=0;for(;M<_.length;)o(F,_[M]),F.push(v[++M]);return new s(F)}e._=n;const a=new s("+");function i(v,..._){const F=[D(v[0])];let M=0;for(;M<_.length;)F.push(a),o(F,_[M]),F.push(a,D(v[++M]));return l(F),new s(F)}e.str=i;function o(v,_){_ instanceof s?v.push(..._._items):_ instanceof r?v.push(_):v.push(h(_))}e.addCodeArg=o;function l(v){let _=1;for(;_<v.length-1;){if(v[_]===a){const F=f(v[_-1],v[_+1]);if(F!==void 0){v.splice(_-1,3,F);continue}v[_++]="+"}_++}}function f(v,_){if(_==='""')return v;if(v==='""')return _;if(typeof v=="string")return _ instanceof r||v[v.length-1]!=='"'?void 0:typeof _!="string"?`${v.slice(0,-1)}${_}"`:_[0]==='"'?v.slice(0,-1)+_.slice(1):void 0;if(typeof _=="string"&&_[0]==='"'&&!(v instanceof r))return`"${v}${_.slice(1)}`}function d(v,_){return _.emptyStr()?v:v.emptyStr()?_:i`${v}${_}`}e.strConcat=d;function h(v){return typeof v=="number"||typeof v=="boolean"||v===null?v:D(Array.isArray(v)?v.join(","):v)}function k(v){return new s(D(v))}e.stringify=k;function D(v){return JSON.stringify(v).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=D;function b(v){return typeof v=="string"&&e.IDENTIFIER.test(v)?new s(`.${v}`):n`[${v}]`}e.getProperty=b;function N(v){if(typeof v=="string"&&e.IDENTIFIER.test(v))return new s(`${v}`);throw new Error(`CodeGen: invalid export name: ${v}, use explicit $id name mapping`)}e.getEsmExportName=N;function $(v){return new s(v.toString())}e.regexpCode=$})(Er);var Rs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Er;class r extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var s;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(s||(e.UsedValueState=s={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class n{constructor({prefixes:f,parent:d}={}){this._names={},this._prefixes=f,this._parent=d}toName(f){return f instanceof t.Name?f:this.name(f)}name(f){return new t.Name(this._newName(f))}_newName(f){const d=this._names[f]||this._nameGroup(f);return`${f}${d.index++}`}_nameGroup(f){var d,h;if(!((h=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||h===void 0)&&h.has(f)||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}e.Scope=n;class a extends t.Name{constructor(f,d){super(d),this.prefix=f}setValue(f,{property:d,itemIndex:h}){this.value=f,this.scopePath=(0,t._)`.${new t.Name(d)}[${h}]`}}e.ValueScopeName=a;const i=(0,t._)`\n`;class o extends n{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?i:t.nil}}get(){return this._scope}name(f){return new a(f,this._newName(f))}value(f,d){var h;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const k=this.toName(f),{prefix:D}=k,b=(h=d.key)!==null&&h!==void 0?h:d.ref;let N=this._values[D];if(N){const _=N.get(b);if(_)return _}else N=this._values[D]=new Map;N.set(b,k);const $=this._scope[D]||(this._scope[D]=[]),v=$.length;return $[v]=d.ref,k.setValue(d,{property:D,itemIndex:v}),k}getValue(f,d){const h=this._values[f];if(h)return h.get(d)}scopeRefs(f,d=this._values){return this._reduceValues(d,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${f}${h.scopePath}`})}scopeCode(f=this._values,d,h){return this._reduceValues(f,k=>{if(k.value===void 0)throw new Error(`CodeGen: name "${k}" has no value`);return k.value.code},d,h)}_reduceValues(f,d,h={},k){let D=t.nil;for(const b in f){const N=f[b];if(!N)continue;const $=h[b]=h[b]||new Map;N.forEach(v=>{if($.has(v))return;$.set(v,s.Started);let _=d(v);if(_){const F=this.opts.es5?e.varKinds.var:e.varKinds.const;D=(0,t._)`${D}${F} ${v} = ${_};${this.opts._n}`}else if(_=k==null?void 0:k(v))D=(0,t._)`${D}${_}${this.opts._n}`;else throw new r(v);$.set(v,s.Completed)})}return D}}e.ValueScope=o})(Rs);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Er,r=Rs;var s=Er;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return s.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return s.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return s.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return s.Name}});var n=Rs;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return n.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return n.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return n.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(u,y){return this}}class i extends a{constructor(u,y,C){super(),this.varKind=u,this.name=y,this.rhs=C}render({es5:u,_n:y}){const C=u?r.varKinds.var:this.varKind,L=this.rhs===void 0?"":` = ${this.rhs}`;return`${C} ${this.name}${L};`+y}optimizeNames(u,y){if(u[this.name.str])return this.rhs&&(this.rhs=ee(this.rhs,u,y)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class o extends a{constructor(u,y,C){super(),this.lhs=u,this.rhs=y,this.sideEffects=C}render({_n:u}){return`${this.lhs} = ${this.rhs};`+u}optimizeNames(u,y){if(!(this.lhs instanceof t.Name&&!u[this.lhs.str]&&!this.sideEffects))return this.rhs=ee(this.rhs,u,y),this}get names(){const u=this.lhs instanceof t.Name?{}:{...this.lhs.names};return Z(u,this.rhs)}}class l extends o{constructor(u,y,C,L){super(u,C,L),this.op=y}render({_n:u}){return`${this.lhs} ${this.op}= ${this.rhs};`+u}}class f extends a{constructor(u){super(),this.label=u,this.names={}}render({_n:u}){return`${this.label}:`+u}}class d extends a{constructor(u){super(),this.label=u,this.names={}}render({_n:u}){return`break${this.label?` ${this.label}`:""};`+u}}class h extends a{constructor(u){super(),this.error=u}render({_n:u}){return`throw ${this.error};`+u}get names(){return this.error.names}}class k extends a{constructor(u){super(),this.code=u}render({_n:u}){return`${this.code};`+u}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(u,y){return this.code=ee(this.code,u,y),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class D extends a{constructor(u=[]){super(),this.nodes=u}render(u){return this.nodes.reduce((y,C)=>y+C.render(u),"")}optimizeNodes(){const{nodes:u}=this;let y=u.length;for(;y--;){const C=u[y].optimizeNodes();Array.isArray(C)?u.splice(y,1,...C):C?u[y]=C:u.splice(y,1)}return u.length>0?this:void 0}optimizeNames(u,y){const{nodes:C}=this;let L=C.length;for(;L--;){const q=C[L];q.optimizeNames(u,y)||($e(u,q.names),C.splice(L,1))}return C.length>0?this:void 0}get names(){return this.nodes.reduce((u,y)=>K(u,y.names),{})}}class b extends D{render(u){return"{"+u._n+super.render(u)+"}"+u._n}}class N extends D{}class $ extends b{}$.kind="else";class v extends b{constructor(u,y){super(y),this.condition=u}render(u){let y=`if(${this.condition})`+super.render(u);return this.else&&(y+="else "+this.else.render(u)),y}optimizeNodes(){super.optimizeNodes();const u=this.condition;if(u===!0)return this.nodes;let y=this.else;if(y){const C=y.optimizeNodes();y=this.else=Array.isArray(C)?new $(C):C}if(y)return u===!1?y instanceof v?y:y.nodes:this.nodes.length?this:new v(Te(u),y instanceof v?[y]:y.nodes);if(!(u===!1||!this.nodes.length))return this}optimizeNames(u,y){var C;if(this.else=(C=this.else)===null||C===void 0?void 0:C.optimizeNames(u,y),!!(super.optimizeNames(u,y)||this.else))return this.condition=ee(this.condition,u,y),this}get names(){const u=super.names;return Z(u,this.condition),this.else&&K(u,this.else.names),u}}v.kind="if";class _ extends b{}_.kind="for";class F extends _{constructor(u){super(),this.iteration=u}render(u){return`for(${this.iteration})`+super.render(u)}optimizeNames(u,y){if(super.optimizeNames(u,y))return this.iteration=ee(this.iteration,u,y),this}get names(){return K(super.names,this.iteration.names)}}class M extends _{constructor(u,y,C,L){super(),this.varKind=u,this.name=y,this.from=C,this.to=L}render(u){const y=u.es5?r.varKinds.var:this.varKind,{name:C,from:L,to:q}=this;return`for(${y} ${C}=${L}; ${C}<${q}; ${C}++)`+super.render(u)}get names(){const u=Z(super.names,this.from);return Z(u,this.to)}}class R extends _{constructor(u,y,C,L){super(),this.loop=u,this.varKind=y,this.name=C,this.iterable=L}render(u){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(u)}optimizeNames(u,y){if(super.optimizeNames(u,y))return this.iterable=ee(this.iterable,u,y),this}get names(){return K(super.names,this.iterable.names)}}class Q extends b{constructor(u,y,C){super(),this.name=u,this.args=y,this.async=C}render(u){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(u)}}Q.kind="func";class fe extends D{render(u){return"return "+super.render(u)}}fe.kind="return";class ke extends b{render(u){let y="try"+super.render(u);return this.catch&&(y+=this.catch.render(u)),this.finally&&(y+=this.finally.render(u)),y}optimizeNodes(){var u,y;return super.optimizeNodes(),(u=this.catch)===null||u===void 0||u.optimizeNodes(),(y=this.finally)===null||y===void 0||y.optimizeNodes(),this}optimizeNames(u,y){var C,L;return super.optimizeNames(u,y),(C=this.catch)===null||C===void 0||C.optimizeNames(u,y),(L=this.finally)===null||L===void 0||L.optimizeNames(u,y),this}get names(){const u=super.names;return this.catch&&K(u,this.catch.names),this.finally&&K(u,this.finally.names),u}}class Ee extends b{constructor(u){super(),this.error=u}render(u){return`catch(${this.error})`+super.render(u)}}Ee.kind="catch";class ye extends b{render(u){return"finally"+super.render(u)}}ye.kind="finally";class oe{constructor(u,y={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...y,_n:y.lines?`
`:""},this._extScope=u,this._scope=new r.Scope({parent:u}),this._nodes=[new N]}toString(){return this._root.render(this.opts)}name(u){return this._scope.name(u)}scopeName(u){return this._extScope.name(u)}scopeValue(u,y){const C=this._extScope.value(u,y);return(this._values[C.prefix]||(this._values[C.prefix]=new Set)).add(C),C}getScopeValue(u,y){return this._extScope.getValue(u,y)}scopeRefs(u){return this._extScope.scopeRefs(u,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(u,y,C,L){const q=this._scope.toName(y);return C!==void 0&&L&&(this._constants[q.str]=C),this._leafNode(new i(u,q,C)),q}const(u,y,C){return this._def(r.varKinds.const,u,y,C)}let(u,y,C){return this._def(r.varKinds.let,u,y,C)}var(u,y,C){return this._def(r.varKinds.var,u,y,C)}assign(u,y,C){return this._leafNode(new o(u,y,C))}add(u,y){return this._leafNode(new l(u,e.operators.ADD,y))}code(u){return typeof u=="function"?u():u!==t.nil&&this._leafNode(new k(u)),this}object(...u){const y=["{"];for(const[C,L]of u)y.length>1&&y.push(","),y.push(C),(C!==L||this.opts.es5)&&(y.push(":"),(0,t.addCodeArg)(y,L));return y.push("}"),new t._Code(y)}if(u,y,C){if(this._blockNode(new v(u)),y&&C)this.code(y).else().code(C).endIf();else if(y)this.code(y).endIf();else if(C)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(u){return this._elseNode(new v(u))}else(){return this._elseNode(new $)}endIf(){return this._endBlockNode(v,$)}_for(u,y){return this._blockNode(u),y&&this.code(y).endFor(),this}for(u,y){return this._for(new F(u),y)}forRange(u,y,C,L,q=this.opts.es5?r.varKinds.var:r.varKinds.let){const te=this._scope.toName(u);return this._for(new M(q,te,y,C),()=>L(te))}forOf(u,y,C,L=r.varKinds.const){const q=this._scope.toName(u);if(this.opts.es5){const te=y instanceof t.Name?y:this.var("_arr",y);return this.forRange("_i",0,(0,t._)`${te}.length`,ne=>{this.var(q,(0,t._)`${te}[${ne}]`),C(q)})}return this._for(new R("of",L,q,y),()=>C(q))}forIn(u,y,C,L=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(u,(0,t._)`Object.keys(${y})`,C);const q=this._scope.toName(u);return this._for(new R("in",L,q,y),()=>C(q))}endFor(){return this._endBlockNode(_)}label(u){return this._leafNode(new f(u))}break(u){return this._leafNode(new d(u))}return(u){const y=new fe;if(this._blockNode(y),this.code(u),y.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(fe)}try(u,y,C){if(!y&&!C)throw new Error('CodeGen: "try" without "catch" and "finally"');const L=new ke;if(this._blockNode(L),this.code(u),y){const q=this.name("e");this._currNode=L.catch=new Ee(q),y(q)}return C&&(this._currNode=L.finally=new ye,this.code(C)),this._endBlockNode(Ee,ye)}throw(u){return this._leafNode(new h(u))}block(u,y){return this._blockStarts.push(this._nodes.length),u&&this.code(u).endBlock(y),this}endBlock(u){const y=this._blockStarts.pop();if(y===void 0)throw new Error("CodeGen: not in self-balancing block");const C=this._nodes.length-y;if(C<0||u!==void 0&&C!==u)throw new Error(`CodeGen: wrong number of nodes: ${C} vs ${u} expected`);return this._nodes.length=y,this}func(u,y=t.nil,C,L){return this._blockNode(new Q(u,y,C)),L&&this.code(L).endFunc(),this}endFunc(){return this._endBlockNode(Q)}optimize(u=1){for(;u-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(u){return this._currNode.nodes.push(u),this}_blockNode(u){this._currNode.nodes.push(u),this._nodes.push(u)}_endBlockNode(u,y){const C=this._currNode;if(C instanceof u||y&&C instanceof y)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${y?`${u.kind}/${y.kind}`:u.kind}"`)}_elseNode(u){const y=this._currNode;if(!(y instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=y.else=u,this}get _root(){return this._nodes[0]}get _currNode(){const u=this._nodes;return u[u.length-1]}set _currNode(u){const y=this._nodes;y[y.length-1]=u}}e.CodeGen=oe;function K(S,u){for(const y in u)S[y]=(S[y]||0)+(u[y]||0);return S}function Z(S,u){return u instanceof t._CodeOrName?K(S,u.names):S}function ee(S,u,y){if(S instanceof t.Name)return C(S);if(!L(S))return S;return new t._Code(S._items.reduce((q,te)=>(te instanceof t.Name&&(te=C(te)),te instanceof t._Code?q.push(...te._items):q.push(te),q),[]));function C(q){const te=y[q.str];return te===void 0||u[q.str]!==1?q:(delete u[q.str],te)}function L(q){return q instanceof t._Code&&q._items.some(te=>te instanceof t.Name&&u[te.str]===1&&y[te.str]!==void 0)}}function $e(S,u){for(const y in u)S[y]=(S[y]||0)-(u[y]||0)}function Te(S){return typeof S=="boolean"||typeof S=="number"||S===null?!S:(0,t._)`!${A(S)}`}e.not=Te;const Ce=w(e.operators.AND);function Qe(...S){return S.reduce(Ce)}e.and=Qe;const Be=w(e.operators.OR);function I(...S){return S.reduce(Be)}e.or=I;function w(S){return(u,y)=>u===t.nil?y:y===t.nil?u:(0,t._)`${A(u)} ${S} ${A(y)}`}function A(S){return S instanceof t.Name?S:(0,t._)`(${S})`}})(se);var z={};Object.defineProperty(z,"__esModule",{value:!0});z.checkStrictMode=z.getErrorPath=z.Type=z.useFunc=z.setEvaluated=z.evaluatedPropsToName=z.mergeEvaluated=z.eachItem=z.unescapeJsonPointer=z.escapeJsonPointer=z.escapeFragment=z.unescapeFragment=z.schemaRefOrVal=z.schemaHasRulesButRef=z.schemaHasRules=z.checkUnknownRules=z.alwaysValidSchema=z.toHash=void 0;const de=se,Uu=Er;function Lu(e){const t={};for(const r of e)t[r]=!0;return t}z.toHash=Lu;function qu(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(gi(e,t),!_i(t,e.self.RULES.all))}z.alwaysValidSchema=qu;function gi(e,t=e.schema){const{opts:r,self:s}=e;if(!r.strictSchema||typeof t=="boolean")return;const n=s.RULES.keywords;for(const a in t)n[a]||wi(e,`unknown keyword: "${a}"`)}z.checkUnknownRules=gi;function _i(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}z.schemaHasRules=_i;function zu(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}z.schemaHasRulesButRef=zu;function Ku({topSchemaRef:e,schemaPath:t},r,s,n){if(!n){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,de._)`${r}`}return(0,de._)`${e}${t}${(0,de.getProperty)(s)}`}z.schemaRefOrVal=Ku;function Hu(e){return $i(decodeURIComponent(e))}z.unescapeFragment=Hu;function Gu(e){return encodeURIComponent(en(e))}z.escapeFragment=Gu;function en(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}z.escapeJsonPointer=en;function $i(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}z.unescapeJsonPointer=$i;function Ju(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}z.eachItem=Ju;function pa({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:s}){return(n,a,i,o)=>{const l=i===void 0?a:i instanceof de.Name?(a instanceof de.Name?e(n,a,i):t(n,a,i),i):a instanceof de.Name?(t(n,i,a),a):r(a,i);return o===de.Name&&!(l instanceof de.Name)?s(n,l):l}}z.mergeEvaluated={props:pa({mergeNames:(e,t,r)=>e.if((0,de._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,de._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,de._)`${r} || {}`).code((0,de._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,de._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,de._)`${r} || {}`),tn(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:bi}),items:pa({mergeNames:(e,t,r)=>e.if((0,de._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,de._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,de._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,de._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function bi(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,de._)`{}`);return t!==void 0&&tn(e,r,t),r}z.evaluatedPropsToName=bi;function tn(e,t,r){Object.keys(r).forEach(s=>e.assign((0,de._)`${t}${(0,de.getProperty)(s)}`,!0))}z.setEvaluated=tn;const ya={};function Bu(e,t){return e.scopeValue("func",{ref:t,code:ya[t.code]||(ya[t.code]=new Uu._Code(t.code))})}z.useFunc=Bu;var xs;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(xs||(z.Type=xs={}));function Wu(e,t,r){if(e instanceof de.Name){const s=t===xs.Num;return r?s?(0,de._)`"[" + ${e} + "]"`:(0,de._)`"['" + ${e} + "']"`:s?(0,de._)`"/" + ${e}`:(0,de._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,de.getProperty)(e).toString():"/"+en(e)}z.getErrorPath=Wu;function wi(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}z.checkStrictMode=wi;var vt={};Object.defineProperty(vt,"__esModule",{value:!0});const Ve=se,Zu={data:new Ve.Name("data"),valCxt:new Ve.Name("valCxt"),instancePath:new Ve.Name("instancePath"),parentData:new Ve.Name("parentData"),parentDataProperty:new Ve.Name("parentDataProperty"),rootData:new Ve.Name("rootData"),dynamicAnchors:new Ve.Name("dynamicAnchors"),vErrors:new Ve.Name("vErrors"),errors:new Ve.Name("errors"),this:new Ve.Name("this"),self:new Ve.Name("self"),scope:new Ve.Name("scope"),json:new Ve.Name("json"),jsonPos:new Ve.Name("jsonPos"),jsonLen:new Ve.Name("jsonLen"),jsonPart:new Ve.Name("jsonPart")};vt.default=Zu;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=se,r=z,s=vt;e.keywordError={message:({keyword:$})=>(0,t.str)`must pass "${$}" keyword validation`},e.keyword$DataError={message:({keyword:$,schemaType:v})=>v?(0,t.str)`"${$}" keyword must be ${v} ($data)`:(0,t.str)`"${$}" keyword is invalid ($data)`};function n($,v=e.keywordError,_,F){const{it:M}=$,{gen:R,compositeRule:Q,allErrors:fe}=M,ke=h($,v,_);F??(Q||fe)?l(R,ke):f(M,(0,t._)`[${ke}]`)}e.reportError=n;function a($,v=e.keywordError,_){const{it:F}=$,{gen:M,compositeRule:R,allErrors:Q}=F,fe=h($,v,_);l(M,fe),R||Q||f(F,s.default.vErrors)}e.reportExtraError=a;function i($,v){$.assign(s.default.errors,v),$.if((0,t._)`${s.default.vErrors} !== null`,()=>$.if(v,()=>$.assign((0,t._)`${s.default.vErrors}.length`,v),()=>$.assign(s.default.vErrors,null)))}e.resetErrorsCount=i;function o({gen:$,keyword:v,schemaValue:_,data:F,errsCount:M,it:R}){if(M===void 0)throw new Error("ajv implementation error");const Q=$.name("err");$.forRange("i",M,s.default.errors,fe=>{$.const(Q,(0,t._)`${s.default.vErrors}[${fe}]`),$.if((0,t._)`${Q}.instancePath === undefined`,()=>$.assign((0,t._)`${Q}.instancePath`,(0,t.strConcat)(s.default.instancePath,R.errorPath))),$.assign((0,t._)`${Q}.schemaPath`,(0,t.str)`${R.errSchemaPath}/${v}`),R.opts.verbose&&($.assign((0,t._)`${Q}.schema`,_),$.assign((0,t._)`${Q}.data`,F))})}e.extendErrors=o;function l($,v){const _=$.const("err",v);$.if((0,t._)`${s.default.vErrors} === null`,()=>$.assign(s.default.vErrors,(0,t._)`[${_}]`),(0,t._)`${s.default.vErrors}.push(${_})`),$.code((0,t._)`${s.default.errors}++`)}function f($,v){const{gen:_,validateName:F,schemaEnv:M}=$;M.$async?_.throw((0,t._)`new ${$.ValidationError}(${v})`):(_.assign((0,t._)`${F}.errors`,v),_.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h($,v,_){const{createErrors:F}=$.it;return F===!1?(0,t._)`{}`:k($,v,_)}function k($,v,_={}){const{gen:F,it:M}=$,R=[D(M,_),b($,_)];return N($,v,R),F.object(...R)}function D({errorPath:$},{instancePath:v}){const _=v?(0,t.str)`${$}${(0,r.getErrorPath)(v,r.Type.Str)}`:$;return[s.default.instancePath,(0,t.strConcat)(s.default.instancePath,_)]}function b({keyword:$,it:{errSchemaPath:v}},{schemaPath:_,parentSchema:F}){let M=F?v:(0,t.str)`${v}/${$}`;return _&&(M=(0,t.str)`${M}${(0,r.getErrorPath)(_,r.Type.Str)}`),[d.schemaPath,M]}function N($,{params:v,message:_},F){const{keyword:M,data:R,schemaValue:Q,it:fe}=$,{opts:ke,propertyName:Ee,topSchemaRef:ye,schemaPath:oe}=fe;F.push([d.keyword,M],[d.params,typeof v=="function"?v($):v||(0,t._)`{}`]),ke.messages&&F.push([d.message,typeof _=="function"?_($):_]),ke.verbose&&F.push([d.schema,Q],[d.parentSchema,(0,t._)`${ye}${oe}`],[s.default.data,R]),Ee&&F.push([d.propertyName,Ee])}})(Or);Object.defineProperty(ir,"__esModule",{value:!0});ir.boolOrEmptySchema=ir.topBoolOrEmptySchema=void 0;const Xu=Or,Yu=se,Qu=vt,el={message:"boolean schema is false"};function tl(e){const{gen:t,schema:r,validateName:s}=e;r===!1?Ei(e,!1):typeof r=="object"&&r.$async===!0?t.return(Qu.default.data):(t.assign((0,Yu._)`${s}.errors`,null),t.return(!0))}ir.topBoolOrEmptySchema=tl;function rl(e,t){const{gen:r,schema:s}=e;s===!1?(r.var(t,!1),Ei(e)):r.var(t,!0)}ir.boolOrEmptySchema=rl;function Ei(e,t){const{gen:r,data:s}=e,n={gen:r,keyword:"false schema",data:s,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Xu.reportError)(n,el,void 0,t)}var Fe={},qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.getRules=qt.isJSONType=void 0;const sl=["string","number","integer","boolean","null","object","array"],nl=new Set(sl);function al(e){return typeof e=="string"&&nl.has(e)}qt.isJSONType=al;function il(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}qt.getRules=il;var wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.shouldUseRule=wt.shouldUseGroup=wt.schemaHasRulesForType=void 0;function ol({schema:e,self:t},r){const s=t.RULES.types[r];return s&&s!==!0&&Si(e,s)}wt.schemaHasRulesForType=ol;function Si(e,t){return t.rules.some(r=>Ni(e,r))}wt.shouldUseGroup=Si;function Ni(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(s=>e[s]!==void 0))}wt.shouldUseRule=Ni;Object.defineProperty(Fe,"__esModule",{value:!0});Fe.reportTypeError=Fe.checkDataTypes=Fe.checkDataType=Fe.coerceAndCheckDataType=Fe.getJSONTypes=Fe.getSchemaTypes=Fe.DataType=void 0;const ul=qt,ll=wt,cl=Or,Y=se,Oi=z;var nr;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(nr||(Fe.DataType=nr={}));function dl(e){const t=Pi(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Fe.getSchemaTypes=dl;function Pi(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(ul.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Fe.getJSONTypes=Pi;function fl(e,t){const{gen:r,data:s,opts:n}=e,a=hl(t,n.coerceTypes),i=t.length>0&&!(a.length===0&&t.length===1&&(0,ll.schemaHasRulesForType)(e,t[0]));if(i){const o=rn(t,s,n.strictNumbers,nr.Wrong);r.if(o,()=>{a.length?ml(e,t,a):sn(e)})}return i}Fe.coerceAndCheckDataType=fl;const ki=new Set(["string","number","integer","boolean","null"]);function hl(e,t){return t?e.filter(r=>ki.has(r)||t==="array"&&r==="array"):[]}function ml(e,t,r){const{gen:s,data:n,opts:a}=e,i=s.let("dataType",(0,Y._)`typeof ${n}`),o=s.let("coerced",(0,Y._)`undefined`);a.coerceTypes==="array"&&s.if((0,Y._)`${i} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>s.assign(n,(0,Y._)`${n}[0]`).assign(i,(0,Y._)`typeof ${n}`).if(rn(t,n,a.strictNumbers),()=>s.assign(o,n))),s.if((0,Y._)`${o} !== undefined`);for(const f of r)(ki.has(f)||f==="array"&&a.coerceTypes==="array")&&l(f);s.else(),sn(e),s.endIf(),s.if((0,Y._)`${o} !== undefined`,()=>{s.assign(n,o),pl(e,o)});function l(f){switch(f){case"string":s.elseIf((0,Y._)`${i} == "number" || ${i} == "boolean"`).assign(o,(0,Y._)`"" + ${n}`).elseIf((0,Y._)`${n} === null`).assign(o,(0,Y._)`""`);return;case"number":s.elseIf((0,Y._)`${i} == "boolean" || ${n} === null
              || (${i} == "string" && ${n} && ${n} == +${n})`).assign(o,(0,Y._)`+${n}`);return;case"integer":s.elseIf((0,Y._)`${i} === "boolean" || ${n} === null
              || (${i} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(o,(0,Y._)`+${n}`);return;case"boolean":s.elseIf((0,Y._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(o,!1).elseIf((0,Y._)`${n} === "true" || ${n} === 1`).assign(o,!0);return;case"null":s.elseIf((0,Y._)`${n} === "" || ${n} === 0 || ${n} === false`),s.assign(o,null);return;case"array":s.elseIf((0,Y._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${n} === null`).assign(o,(0,Y._)`[${n}]`)}}}function pl({gen:e,parentData:t,parentDataProperty:r},s){e.if((0,Y._)`${t} !== undefined`,()=>e.assign((0,Y._)`${t}[${r}]`,s))}function Is(e,t,r,s=nr.Correct){const n=s===nr.Correct?Y.operators.EQ:Y.operators.NEQ;let a;switch(e){case"null":return(0,Y._)`${t} ${n} null`;case"array":a=(0,Y._)`Array.isArray(${t})`;break;case"object":a=(0,Y._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=i((0,Y._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=i();break;default:return(0,Y._)`typeof ${t} ${n} ${e}`}return s===nr.Correct?a:(0,Y.not)(a);function i(o=Y.nil){return(0,Y.and)((0,Y._)`typeof ${t} == "number"`,o,r?(0,Y._)`isFinite(${t})`:Y.nil)}}Fe.checkDataType=Is;function rn(e,t,r,s){if(e.length===1)return Is(e[0],t,r,s);let n;const a=(0,Oi.toHash)(e);if(a.array&&a.object){const i=(0,Y._)`typeof ${t} != "object"`;n=a.null?i:(0,Y._)`!${t} || ${i}`,delete a.null,delete a.array,delete a.object}else n=Y.nil;a.number&&delete a.integer;for(const i in a)n=(0,Y.and)(n,Is(i,t,r,s));return n}Fe.checkDataTypes=rn;const yl={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,Y._)`{type: ${e}}`:(0,Y._)`{type: ${t}}`};function sn(e){const t=vl(e);(0,cl.reportError)(t,yl)}Fe.reportTypeError=sn;function vl(e){const{gen:t,data:r,schema:s}=e,n=(0,Oi.schemaRefOrVal)(e,s,"type");return{gen:t,keyword:"type",data:r,schema:s.type,schemaCode:n,schemaValue:n,parentSchema:s,params:{},it:e}}var fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.assignDefaults=void 0;const Qt=se,gl=z;function _l(e,t){const{properties:r,items:s}=e.schema;if(t==="object"&&r)for(const n in r)va(e,n,r[n].default);else t==="array"&&Array.isArray(s)&&s.forEach((n,a)=>va(e,a,n.default))}fs.assignDefaults=_l;function va(e,t,r){const{gen:s,compositeRule:n,data:a,opts:i}=e;if(r===void 0)return;const o=(0,Qt._)`${a}${(0,Qt.getProperty)(t)}`;if(n){(0,gl.checkStrictMode)(e,`default is ignored for: ${o}`);return}let l=(0,Qt._)`${o} === undefined`;i.useDefaults==="empty"&&(l=(0,Qt._)`${l} || ${o} === null || ${o} === ""`),s.if(l,(0,Qt._)`${o} = ${(0,Qt.stringify)(r)}`)}var pt={},re={};Object.defineProperty(re,"__esModule",{value:!0});re.validateUnion=re.validateArray=re.usePattern=re.callValidateCode=re.schemaProperties=re.allSchemaProperties=re.noPropertyInData=re.propertyInData=re.isOwnProperty=re.hasPropFunc=re.reportMissingProp=re.checkMissingProp=re.checkReportMissingProp=void 0;const _e=se,nn=z,Pt=vt,$l=z;function bl(e,t){const{gen:r,data:s,it:n}=e;r.if(on(r,s,t,n.opts.ownProperties),()=>{e.setParams({missingProperty:(0,_e._)`${t}`},!0),e.error()})}re.checkReportMissingProp=bl;function wl({gen:e,data:t,it:{opts:r}},s,n){return(0,_e.or)(...s.map(a=>(0,_e.and)(on(e,t,a,r.ownProperties),(0,_e._)`${n} = ${a}`)))}re.checkMissingProp=wl;function El(e,t){e.setParams({missingProperty:t},!0),e.error()}re.reportMissingProp=El;function Di(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,_e._)`Object.prototype.hasOwnProperty`})}re.hasPropFunc=Di;function an(e,t,r){return(0,_e._)`${Di(e)}.call(${t}, ${r})`}re.isOwnProperty=an;function Sl(e,t,r,s){const n=(0,_e._)`${t}${(0,_e.getProperty)(r)} !== undefined`;return s?(0,_e._)`${n} && ${an(e,t,r)}`:n}re.propertyInData=Sl;function on(e,t,r,s){const n=(0,_e._)`${t}${(0,_e.getProperty)(r)} === undefined`;return s?(0,_e.or)(n,(0,_e.not)(an(e,t,r))):n}re.noPropertyInData=on;function Ti(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}re.allSchemaProperties=Ti;function Nl(e,t){return Ti(t).filter(r=>!(0,nn.alwaysValidSchema)(e,t[r]))}re.schemaProperties=Nl;function Ol({schemaCode:e,data:t,it:{gen:r,topSchemaRef:s,schemaPath:n,errorPath:a},it:i},o,l,f){const d=f?(0,_e._)`${e}, ${t}, ${s}${n}`:t,h=[[Pt.default.instancePath,(0,_e.strConcat)(Pt.default.instancePath,a)],[Pt.default.parentData,i.parentData],[Pt.default.parentDataProperty,i.parentDataProperty],[Pt.default.rootData,Pt.default.rootData]];i.opts.dynamicRef&&h.push([Pt.default.dynamicAnchors,Pt.default.dynamicAnchors]);const k=(0,_e._)`${d}, ${r.object(...h)}`;return l!==_e.nil?(0,_e._)`${o}.call(${l}, ${k})`:(0,_e._)`${o}(${k})`}re.callValidateCode=Ol;const Pl=(0,_e._)`new RegExp`;function kl({gen:e,it:{opts:t}},r){const s=t.unicodeRegExp?"u":"",{regExp:n}=t.code,a=n(r,s);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,_e._)`${n.code==="new RegExp"?Pl:(0,$l.useFunc)(e,n)}(${r}, ${s})`})}re.usePattern=kl;function Dl(e){const{gen:t,data:r,keyword:s,it:n}=e,a=t.name("valid");if(n.allErrors){const o=t.let("valid",!0);return i(()=>t.assign(o,!1)),o}return t.var(a,!0),i(()=>t.break()),a;function i(o){const l=t.const("len",(0,_e._)`${r}.length`);t.forRange("i",0,l,f=>{e.subschema({keyword:s,dataProp:f,dataPropType:nn.Type.Num},a),t.if((0,_e.not)(a),o)})}}re.validateArray=Dl;function Tl(e){const{gen:t,schema:r,keyword:s,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,nn.alwaysValidSchema)(n,l))&&!n.opts.unevaluated)return;const i=t.let("valid",!1),o=t.name("_valid");t.block(()=>r.forEach((l,f)=>{const d=e.subschema({keyword:s,schemaProp:f,compositeRule:!0},o);t.assign(i,(0,_e._)`${i} || ${o}`),e.mergeValidEvaluated(d,o)||t.if((0,_e.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}re.validateUnion=Tl;Object.defineProperty(pt,"__esModule",{value:!0});pt.validateKeywordUsage=pt.validSchemaType=pt.funcKeywordCode=pt.macroKeywordCode=void 0;const Me=se,xt=vt,Cl=re,Al=Or;function jl(e,t){const{gen:r,keyword:s,schema:n,parentSchema:a,it:i}=e,o=t.macro.call(i.self,n,a,i),l=Ci(r,s,o);i.opts.validateSchema!==!1&&i.self.validateSchema(o,!0);const f=r.name("valid");e.subschema({schema:o,schemaPath:Me.nil,errSchemaPath:`${i.errSchemaPath}/${s}`,topSchemaRef:l,compositeRule:!0},f),e.pass(f,()=>e.error(!0))}pt.macroKeywordCode=jl;function Fl(e,t){var r;const{gen:s,keyword:n,schema:a,parentSchema:i,$data:o,it:l}=e;xl(l,t);const f=!o&&t.compile?t.compile.call(l.self,a,i,l):t.validate,d=Ci(s,n,f),h=s.let("valid");e.block$data(h,k),e.ok((r=t.valid)!==null&&r!==void 0?r:h);function k(){if(t.errors===!1)N(),t.modifying&&ga(e),$(()=>e.error());else{const v=t.async?D():b();t.modifying&&ga(e),$(()=>Rl(e,v))}}function D(){const v=s.let("ruleErrs",null);return s.try(()=>N((0,Me._)`await `),_=>s.assign(h,!1).if((0,Me._)`${_} instanceof ${l.ValidationError}`,()=>s.assign(v,(0,Me._)`${_}.errors`),()=>s.throw(_))),v}function b(){const v=(0,Me._)`${d}.errors`;return s.assign(v,null),N(Me.nil),v}function N(v=t.async?(0,Me._)`await `:Me.nil){const _=l.opts.passContext?xt.default.this:xt.default.self,F=!("compile"in t&&!o||t.schema===!1);s.assign(h,(0,Me._)`${v}${(0,Cl.callValidateCode)(e,d,_,F)}`,t.modifying)}function $(v){var _;s.if((0,Me.not)((_=t.valid)!==null&&_!==void 0?_:h),v)}}pt.funcKeywordCode=Fl;function ga(e){const{gen:t,data:r,it:s}=e;t.if(s.parentData,()=>t.assign(r,(0,Me._)`${s.parentData}[${s.parentDataProperty}]`))}function Rl(e,t){const{gen:r}=e;r.if((0,Me._)`Array.isArray(${t})`,()=>{r.assign(xt.default.vErrors,(0,Me._)`${xt.default.vErrors} === null ? ${t} : ${xt.default.vErrors}.concat(${t})`).assign(xt.default.errors,(0,Me._)`${xt.default.vErrors}.length`),(0,Al.extendErrors)(e)},()=>e.error())}function xl({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Ci(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Me.stringify)(r)})}function Il(e,t,r=!1){return!t.length||t.some(s=>s==="array"?Array.isArray(e):s==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==s||r&&typeof e>"u")}pt.validSchemaType=Il;function Vl({schema:e,opts:t,self:r,errSchemaPath:s},n,a){if(Array.isArray(n.keyword)?!n.keyword.includes(a):n.keyword!==a)throw new Error("ajv implementation error");const i=n.dependencies;if(i!=null&&i.some(o=>!Object.prototype.hasOwnProperty.call(e,o)))throw new Error(`parent schema must have dependencies of ${a}: ${i.join(",")}`);if(n.validateSchema&&!n.validateSchema(e[a])){const l=`keyword "${a}" value is invalid at path "${s}": `+r.errorsText(n.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}pt.validateKeywordUsage=Vl;var At={};Object.defineProperty(At,"__esModule",{value:!0});At.extendSubschemaMode=At.extendSubschemaData=At.getSubschema=void 0;const ht=se,Ai=z;function Ml(e,{keyword:t,schemaProp:r,schema:s,schemaPath:n,errSchemaPath:a,topSchemaRef:i}){if(t!==void 0&&s!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const o=e.schema[t];return r===void 0?{schema:o,schemaPath:(0,ht._)`${e.schemaPath}${(0,ht.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[r],schemaPath:(0,ht._)`${e.schemaPath}${(0,ht.getProperty)(t)}${(0,ht.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Ai.escapeFragment)(r)}`}}if(s!==void 0){if(n===void 0||a===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:s,schemaPath:n,topSchemaRef:i,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}At.getSubschema=Ml;function Ul(e,t,{dataProp:r,dataPropType:s,data:n,dataTypes:a,propertyName:i}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=t;if(r!==void 0){const{errorPath:f,dataPathArr:d,opts:h}=t,k=o.let("data",(0,ht._)`${t.data}${(0,ht.getProperty)(r)}`,!0);l(k),e.errorPath=(0,ht.str)`${f}${(0,Ai.getErrorPath)(r,s,h.jsPropertySyntax)}`,e.parentDataProperty=(0,ht._)`${r}`,e.dataPathArr=[...d,e.parentDataProperty]}if(n!==void 0){const f=n instanceof ht.Name?n:o.let("data",n,!0);l(f),i!==void 0&&(e.propertyName=i)}a&&(e.dataTypes=a);function l(f){e.data=f,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,f]}}At.extendSubschemaData=Ul;function Ll(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:s,createErrors:n,allErrors:a}){s!==void 0&&(e.compositeRule=s),n!==void 0&&(e.createErrors=n),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}At.extendSubschemaMode=Ll;var Ie={},ji=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var s,n,a;if(Array.isArray(t)){if(s=t.length,s!=r.length)return!1;for(n=s;n--!==0;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),s=a.length,s!==Object.keys(r).length)return!1;for(n=s;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[n]))return!1;for(n=s;n--!==0;){var i=a[n];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r},Fi={exports:{}},Tt=Fi.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var s=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};Jr(t,s,n,e,"",e)};Tt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Tt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Tt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Tt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Jr(e,t,r,s,n,a,i,o,l,f){if(s&&typeof s=="object"&&!Array.isArray(s)){t(s,n,a,i,o,l,f);for(var d in s){var h=s[d];if(Array.isArray(h)){if(d in Tt.arrayKeywords)for(var k=0;k<h.length;k++)Jr(e,t,r,h[k],n+"/"+d+"/"+k,a,n,d,s,k)}else if(d in Tt.propsKeywords){if(h&&typeof h=="object")for(var D in h)Jr(e,t,r,h[D],n+"/"+d+"/"+ql(D),a,n,d,s,D)}else(d in Tt.keywords||e.allKeys&&!(d in Tt.skipKeywords))&&Jr(e,t,r,h,n+"/"+d,a,n,d,s)}r(s,n,a,i,o,l,f)}}function ql(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var zl=Fi.exports;Object.defineProperty(Ie,"__esModule",{value:!0});Ie.getSchemaRefs=Ie.resolveUrl=Ie.normalizeId=Ie._getFullPath=Ie.getFullPath=Ie.inlineRef=void 0;const Kl=z,Hl=ji,Gl=zl,Jl=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Bl(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Vs(e):t?Ri(e)<=t:!1}Ie.inlineRef=Bl;const Wl=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Vs(e){for(const t in e){if(Wl.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Vs)||typeof r=="object"&&Vs(r))return!0}return!1}function Ri(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Jl.has(r)&&(typeof e[r]=="object"&&(0,Kl.eachItem)(e[r],s=>t+=Ri(s)),t===1/0))return 1/0}return t}function xi(e,t="",r){r!==!1&&(t=ar(t));const s=e.parse(t);return Ii(e,s)}Ie.getFullPath=xi;function Ii(e,t){return e.serialize(t).split("#")[0]+"#"}Ie._getFullPath=Ii;const Zl=/#\/?$/;function ar(e){return e?e.replace(Zl,""):""}Ie.normalizeId=ar;function Xl(e,t,r){return r=ar(r),e.resolve(t,r)}Ie.resolveUrl=Xl;const Yl=/^[a-z_][-a-z0-9._]*$/i;function Ql(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:s}=this.opts,n=ar(e[r]||t),a={"":n},i=xi(s,n,!1),o={},l=new Set;return Gl(e,{allKeys:!0},(h,k,D,b)=>{if(b===void 0)return;const N=i+k;let $=a[b];typeof h[r]=="string"&&($=v.call(this,h[r])),_.call(this,h.$anchor),_.call(this,h.$dynamicAnchor),a[k]=$;function v(F){const M=this.opts.uriResolver.resolve;if(F=ar($?M($,F):F),l.has(F))throw d(F);l.add(F);let R=this.refs[F];return typeof R=="string"&&(R=this.refs[R]),typeof R=="object"?f(h,R.schema,F):F!==ar(N)&&(F[0]==="#"?(f(h,o[F],F),o[F]=h):this.refs[F]=N),F}function _(F){if(typeof F=="string"){if(!Yl.test(F))throw new Error(`invalid anchor "${F}"`);v.call(this,`#${F}`)}}}),o;function f(h,k,D){if(k!==void 0&&!Hl(h,k))throw d(D)}function d(h){return new Error(`reference "${h}" resolves to more than one schema`)}}Ie.getSchemaRefs=Ql;Object.defineProperty(ot,"__esModule",{value:!0});ot.getData=ot.KeywordCxt=ot.validateFunctionCode=void 0;const Vi=ir,_a=Fe,un=wt,ns=Fe,ec=fs,gr=pt,Es=At,G=se,W=vt,tc=Ie,Et=z,hr=Or;function rc(e){if(Li(e)&&(qi(e),Ui(e))){ac(e);return}Mi(e,()=>(0,Vi.topBoolOrEmptySchema)(e))}ot.validateFunctionCode=rc;function Mi({gen:e,validateName:t,schema:r,schemaEnv:s,opts:n},a){n.code.es5?e.func(t,(0,G._)`${W.default.data}, ${W.default.valCxt}`,s.$async,()=>{e.code((0,G._)`"use strict"; ${$a(r,n)}`),nc(e,n),e.code(a)}):e.func(t,(0,G._)`${W.default.data}, ${sc(n)}`,s.$async,()=>e.code($a(r,n)).code(a))}function sc(e){return(0,G._)`{${W.default.instancePath}="", ${W.default.parentData}, ${W.default.parentDataProperty}, ${W.default.rootData}=${W.default.data}${e.dynamicRef?(0,G._)`, ${W.default.dynamicAnchors}={}`:G.nil}}={}`}function nc(e,t){e.if(W.default.valCxt,()=>{e.var(W.default.instancePath,(0,G._)`${W.default.valCxt}.${W.default.instancePath}`),e.var(W.default.parentData,(0,G._)`${W.default.valCxt}.${W.default.parentData}`),e.var(W.default.parentDataProperty,(0,G._)`${W.default.valCxt}.${W.default.parentDataProperty}`),e.var(W.default.rootData,(0,G._)`${W.default.valCxt}.${W.default.rootData}`),t.dynamicRef&&e.var(W.default.dynamicAnchors,(0,G._)`${W.default.valCxt}.${W.default.dynamicAnchors}`)},()=>{e.var(W.default.instancePath,(0,G._)`""`),e.var(W.default.parentData,(0,G._)`undefined`),e.var(W.default.parentDataProperty,(0,G._)`undefined`),e.var(W.default.rootData,W.default.data),t.dynamicRef&&e.var(W.default.dynamicAnchors,(0,G._)`{}`)})}function ac(e){const{schema:t,opts:r,gen:s}=e;Mi(e,()=>{r.$comment&&t.$comment&&Ki(e),cc(e),s.let(W.default.vErrors,null),s.let(W.default.errors,0),r.unevaluated&&ic(e),zi(e),hc(e)})}function ic(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,G._)`${r}.evaluated`),t.if((0,G._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,G._)`${e.evaluated}.props`,(0,G._)`undefined`)),t.if((0,G._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,G._)`${e.evaluated}.items`,(0,G._)`undefined`))}function $a(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,G._)`/*# sourceURL=${r} */`:G.nil}function oc(e,t){if(Li(e)&&(qi(e),Ui(e))){uc(e,t);return}(0,Vi.boolOrEmptySchema)(e,t)}function Ui({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Li(e){return typeof e.schema!="boolean"}function uc(e,t){const{schema:r,gen:s,opts:n}=e;n.$comment&&r.$comment&&Ki(e),dc(e),fc(e);const a=s.const("_errs",W.default.errors);zi(e,a),s.var(t,(0,G._)`${a} === ${W.default.errors}`)}function qi(e){(0,Et.checkUnknownRules)(e),lc(e)}function zi(e,t){if(e.opts.jtd)return ba(e,[],!1,t);const r=(0,_a.getSchemaTypes)(e.schema),s=(0,_a.coerceAndCheckDataType)(e,r);ba(e,r,!s,t)}function lc(e){const{schema:t,errSchemaPath:r,opts:s,self:n}=e;t.$ref&&s.ignoreKeywordsWithRef&&(0,Et.schemaHasRulesButRef)(t,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function cc(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Et.checkStrictMode)(e,"default is ignored in the schema root")}function dc(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,tc.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function fc(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Ki({gen:e,schemaEnv:t,schema:r,errSchemaPath:s,opts:n}){const a=r.$comment;if(n.$comment===!0)e.code((0,G._)`${W.default.self}.logger.log(${a})`);else if(typeof n.$comment=="function"){const i=(0,G.str)`${s}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code((0,G._)`${W.default.self}.opts.$comment(${a}, ${i}, ${o}.schema)`)}}function hc(e){const{gen:t,schemaEnv:r,validateName:s,ValidationError:n,opts:a}=e;r.$async?t.if((0,G._)`${W.default.errors} === 0`,()=>t.return(W.default.data),()=>t.throw((0,G._)`new ${n}(${W.default.vErrors})`)):(t.assign((0,G._)`${s}.errors`,W.default.vErrors),a.unevaluated&&mc(e),t.return((0,G._)`${W.default.errors} === 0`))}function mc({gen:e,evaluated:t,props:r,items:s}){r instanceof G.Name&&e.assign((0,G._)`${t}.props`,r),s instanceof G.Name&&e.assign((0,G._)`${t}.items`,s)}function ba(e,t,r,s){const{gen:n,schema:a,data:i,allErrors:o,opts:l,self:f}=e,{RULES:d}=f;if(a.$ref&&(l.ignoreKeywordsWithRef||!(0,Et.schemaHasRulesButRef)(a,d))){n.block(()=>Ji(e,"$ref",d.all.$ref.definition));return}l.jtd||pc(e,t),n.block(()=>{for(const k of d.rules)h(k);h(d.post)});function h(k){(0,un.shouldUseGroup)(a,k)&&(k.type?(n.if((0,ns.checkDataType)(k.type,i,l.strictNumbers)),wa(e,k),t.length===1&&t[0]===k.type&&r&&(n.else(),(0,ns.reportTypeError)(e)),n.endIf()):wa(e,k),o||n.if((0,G._)`${W.default.errors} === ${s||0}`))}}function wa(e,t){const{gen:r,schema:s,opts:{useDefaults:n}}=e;n&&(0,ec.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,un.shouldUseRule)(s,a)&&Ji(e,a.keyword,a.definition,t.type)})}function pc(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(yc(e,t),e.opts.allowUnionTypes||vc(e,t),gc(e,e.dataTypes))}function yc(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{Hi(e.dataTypes,r)||ln(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),$c(e,t)}}function vc(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&ln(e,"use allowUnionTypes to allow union type keyword")}function gc(e,t){const r=e.self.RULES.all;for(const s in r){const n=r[s];if(typeof n=="object"&&(0,un.shouldUseRule)(e.schema,n)){const{type:a}=n.definition;a.length&&!a.some(i=>_c(t,i))&&ln(e,`missing type "${a.join(",")}" for keyword "${s}"`)}}}function _c(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Hi(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function $c(e,t){const r=[];for(const s of e.dataTypes)Hi(t,s)?r.push(s):t.includes("integer")&&s==="number"&&r.push("integer");e.dataTypes=r}function ln(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Et.checkStrictMode)(e,t,e.opts.strictTypes)}class Gi{constructor(t,r,s){if((0,gr.validateKeywordUsage)(t,r,s),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=s,this.data=t.data,this.schema=t.schema[s],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Et.schemaRefOrVal)(t,this.schema,s,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Bi(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,gr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${s} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",W.default.errors))}result(t,r,s){this.failResult((0,G.not)(t),r,s)}failResult(t,r,s){this.gen.if(t),s?s():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,G.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,G._)`${r} !== undefined && (${(0,G.or)(this.invalid$data(),t)})`)}error(t,r,s){if(r){this.setParams(r),this._error(t,s),this.setParams({});return}this._error(t,s)}_error(t,r){(t?hr.reportExtraError:hr.reportError)(this,this.def.error,r)}$dataError(){(0,hr.reportError)(this,this.def.$dataError||hr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,hr.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,s=G.nil){this.gen.block(()=>{this.check$data(t,s),r()})}check$data(t=G.nil,r=G.nil){if(!this.$data)return;const{gen:s,schemaCode:n,schemaType:a,def:i}=this;s.if((0,G.or)((0,G._)`${n} === undefined`,r)),t!==G.nil&&s.assign(t,!0),(a.length||i.validateSchema)&&(s.elseIf(this.invalid$data()),this.$dataError(),t!==G.nil&&s.assign(t,!1)),s.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:s,def:n,it:a}=this;return(0,G.or)(i(),o());function i(){if(s.length){if(!(r instanceof G.Name))throw new Error("ajv implementation error");const l=Array.isArray(s)?s:[s];return(0,G._)`${(0,ns.checkDataTypes)(l,r,a.opts.strictNumbers,ns.DataType.Wrong)}`}return G.nil}function o(){if(n.validateSchema){const l=t.scopeValue("validate$data",{ref:n.validateSchema});return(0,G._)`!${l}(${r})`}return G.nil}}subschema(t,r){const s=(0,Es.getSubschema)(this.it,t);(0,Es.extendSubschemaData)(s,this.it,t),(0,Es.extendSubschemaMode)(s,t);const n={...this.it,...s,items:void 0,props:void 0};return oc(n,r),n}mergeEvaluated(t,r){const{it:s,gen:n}=this;s.opts.unevaluated&&(s.props!==!0&&t.props!==void 0&&(s.props=Et.mergeEvaluated.props(n,t.props,s.props,r)),s.items!==!0&&t.items!==void 0&&(s.items=Et.mergeEvaluated.items(n,t.items,s.items,r)))}mergeValidEvaluated(t,r){const{it:s,gen:n}=this;if(s.opts.unevaluated&&(s.props!==!0||s.items!==!0))return n.if(r,()=>this.mergeEvaluated(t,G.Name)),!0}}ot.KeywordCxt=Gi;function Ji(e,t,r,s){const n=new Gi(e,r,t);"code"in r?r.code(n,s):n.$data&&r.validate?(0,gr.funcKeywordCode)(n,r):"macro"in r?(0,gr.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,gr.funcKeywordCode)(n,r)}const bc=/^\/(?:[^~]|~0|~1)*$/,wc=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Bi(e,{dataLevel:t,dataNames:r,dataPathArr:s}){let n,a;if(e==="")return W.default.rootData;if(e[0]==="/"){if(!bc.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);n=e,a=W.default.rootData}else{const f=wc.exec(e);if(!f)throw new Error(`Invalid JSON-pointer: ${e}`);const d=+f[1];if(n=f[2],n==="#"){if(d>=t)throw new Error(l("property/index",d));return s[t-d]}if(d>t)throw new Error(l("data",d));if(a=r[t-d],!n)return a}let i=a;const o=n.split("/");for(const f of o)f&&(a=(0,G._)`${a}${(0,G.getProperty)((0,Et.unescapeJsonPointer)(f))}`,i=(0,G._)`${i} && ${a}`);return i;function l(f,d){return`Cannot access ${f} ${d} levels up, current level is ${t}`}}ot.getData=Bi;var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});class Ec extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Pr.default=Ec;var kr={};Object.defineProperty(kr,"__esModule",{value:!0});const Ss=Ie;class Sc extends Error{constructor(t,r,s,n){super(n||`can't resolve reference ${s} from id ${r}`),this.missingRef=(0,Ss.resolveUrl)(t,r,s),this.missingSchema=(0,Ss.normalizeId)((0,Ss.getFullPath)(t,this.missingRef))}}kr.default=Sc;var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.resolveSchema=Ge.getCompilingSchema=Ge.resolveRef=Ge.compileSchema=Ge.SchemaEnv=void 0;const rt=se,Nc=Pr,Rt=vt,it=Ie,Ea=z,Oc=ot;class hs{constructor(t){var r;this.refs={},this.dynamicAnchors={};let s;typeof t.schema=="object"&&(s=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,it.normalizeId)(s==null?void 0:s[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=s==null?void 0:s.$async,this.refs={}}}Ge.SchemaEnv=hs;function cn(e){const t=Wi.call(this,e);if(t)return t;const r=(0,it.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:s,lines:n}=this.opts.code,{ownProperties:a}=this.opts,i=new rt.CodeGen(this.scope,{es5:s,lines:n,ownProperties:a});let o;e.$async&&(o=i.scopeValue("Error",{ref:Nc.default,code:(0,rt._)`require("ajv/dist/runtime/validation_error").default`}));const l=i.scopeName("validate");e.validateName=l;const f={gen:i,allErrors:this.opts.allErrors,data:Rt.default.data,parentData:Rt.default.parentData,parentDataProperty:Rt.default.parentDataProperty,dataNames:[Rt.default.data],dataPathArr:[rt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,rt.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:o,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:rt.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,rt._)`""`,opts:this.opts,self:this};let d;try{this._compilations.add(e),(0,Oc.validateFunctionCode)(f),i.optimize(this.opts.code.optimize);const h=i.toString();d=`${i.scopeRefs(Rt.default.scope)}return ${h}`,this.opts.code.process&&(d=this.opts.code.process(d,e));const D=new Function(`${Rt.default.self}`,`${Rt.default.scope}`,d)(this,this.scope.get());if(this.scope.value(l,{ref:D}),D.errors=null,D.schema=e.schema,D.schemaEnv=e,e.$async&&(D.$async=!0),this.opts.code.source===!0&&(D.source={validateName:l,validateCode:h,scopeValues:i._values}),this.opts.unevaluated){const{props:b,items:N}=f;D.evaluated={props:b instanceof rt.Name?void 0:b,items:N instanceof rt.Name?void 0:N,dynamicProps:b instanceof rt.Name,dynamicItems:N instanceof rt.Name},D.source&&(D.source.evaluated=(0,rt.stringify)(D.evaluated))}return e.validate=D,e}catch(h){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),h}finally{this._compilations.delete(e)}}Ge.compileSchema=cn;function Pc(e,t,r){var s;r=(0,it.resolveUrl)(this.opts.uriResolver,t,r);const n=e.refs[r];if(n)return n;let a=Tc.call(this,e,r);if(a===void 0){const i=(s=e.localRefs)===null||s===void 0?void 0:s[r],{schemaId:o}=this.opts;i&&(a=new hs({schema:i,schemaId:o,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=kc.call(this,a)}Ge.resolveRef=Pc;function kc(e){return(0,it.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:cn.call(this,e)}function Wi(e){for(const t of this._compilations)if(Dc(t,e))return t}Ge.getCompilingSchema=Wi;function Dc(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Tc(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||ms.call(this,e,t)}function ms(e,t){const r=this.opts.uriResolver.parse(t),s=(0,it._getFullPath)(this.opts.uriResolver,r);let n=(0,it.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&s===n)return Ns.call(this,r,e);const a=(0,it.normalizeId)(s),i=this.refs[a]||this.schemas[a];if(typeof i=="string"){const o=ms.call(this,e,i);return typeof(o==null?void 0:o.schema)!="object"?void 0:Ns.call(this,r,o)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||cn.call(this,i),a===(0,it.normalizeId)(t)){const{schema:o}=i,{schemaId:l}=this.opts,f=o[l];return f&&(n=(0,it.resolveUrl)(this.opts.uriResolver,n,f)),new hs({schema:o,schemaId:l,root:e,baseId:n})}return Ns.call(this,r,i)}}Ge.resolveSchema=ms;const Cc=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Ns(e,{baseId:t,schema:r,root:s}){var n;if(((n=e.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(const o of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,Ea.unescapeFragment)(o)];if(l===void 0)return;r=l;const f=typeof r=="object"&&r[this.opts.schemaId];!Cc.has(o)&&f&&(t=(0,it.resolveUrl)(this.opts.uriResolver,t,f))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,Ea.schemaHasRulesButRef)(r,this.RULES)){const o=(0,it.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=ms.call(this,s,o)}const{schemaId:i}=this.opts;if(a=a||new hs({schema:r,schemaId:i,root:s,baseId:t}),a.schema!==a.root.schema)return a}const Ac="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",jc="Meta-schema for $data reference (JSON AnySchema extension proposal)",Fc="object",Rc=["$data"],xc={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Ic=!1,Vc={$id:Ac,description:jc,type:Fc,required:Rc,properties:xc,additionalProperties:Ic};var dn={},Ms={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,s){s(t)})(_o,function(r){function s(){for(var m=arguments.length,c=Array(m),g=0;g<m;g++)c[g]=arguments[g];if(c.length>1){c[0]=c[0].slice(0,-1);for(var P=c.length-1,O=1;O<P;++O)c[O]=c[O].slice(1,-1);return c[P]=c[P].slice(1),c.join("")}else return c[0]}function n(m){return"(?:"+m+")"}function a(m){return m===void 0?"undefined":m===null?"null":Object.prototype.toString.call(m).split(" ").pop().split("]").shift().toLowerCase()}function i(m){return m.toUpperCase()}function o(m){return m!=null?m instanceof Array?m:typeof m.length!="number"||m.split||m.setInterval||m.call?[m]:Array.prototype.slice.call(m):[]}function l(m,c){var g=m;if(c)for(var P in c)g[P]=c[P];return g}function f(m){var c="[A-Za-z]",g="[0-9]",P=s(g,"[A-Fa-f]"),O=n(n("%[EFef]"+P+"%"+P+P+"%"+P+P)+"|"+n("%[89A-Fa-f]"+P+"%"+P+P)+"|"+n("%"+P+P)),J="[\\:\\/\\?\\#\\[\\]\\@]",B="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ue=s(J,B),ge=m?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ne=m?"[\\uE000-\\uF8FF]":"[]",ae=s(c,g,"[\\-\\.\\_\\~]",ge);n(c+s(c,g,"[\\+\\-\\.]")+"*"),n(n(O+"|"+s(ae,B,"[\\:]"))+"*");var me=n(n("25[0-5]")+"|"+n("2[0-4]"+g)+"|"+n("1"+g+g)+"|"+n("0?[1-9]"+g)+"|0?0?"+g),Oe=n(me+"\\."+me+"\\."+me+"\\."+me),X=n(P+"{1,4}"),be=n(n(X+"\\:"+X)+"|"+Oe),De=n(n(X+"\\:")+"{6}"+be),we=n("\\:\\:"+n(X+"\\:")+"{5}"+be),Ot=n(n(X)+"?\\:\\:"+n(X+"\\:")+"{4}"+be),lt=n(n(n(X+"\\:")+"{0,1}"+X)+"?\\:\\:"+n(X+"\\:")+"{3}"+be),ct=n(n(n(X+"\\:")+"{0,2}"+X)+"?\\:\\:"+n(X+"\\:")+"{2}"+be),Zt=n(n(n(X+"\\:")+"{0,3}"+X)+"?\\:\\:"+X+"\\:"+be),jt=n(n(n(X+"\\:")+"{0,4}"+X)+"?\\:\\:"+be),Ze=n(n(n(X+"\\:")+"{0,5}"+X)+"?\\:\\:"+X),dt=n(n(n(X+"\\:")+"{0,6}"+X)+"?\\:\\:"),Ft=n([De,we,Ot,lt,ct,Zt,jt,Ze,dt].join("|")),_t=n(n(ae+"|"+O)+"+");n("[vV]"+P+"+\\."+s(ae,B,"[\\:]")+"+"),n(n(O+"|"+s(ae,B))+"*");var cr=n(O+"|"+s(ae,B,"[\\:\\@]"));return n(n(O+"|"+s(ae,B,"[\\@]"))+"+"),n(n(cr+"|"+s("[\\/\\?]",Ne))+"*"),{NOT_SCHEME:new RegExp(s("[^]",c,g,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(s("[^\\%\\:]",ae,B),"g"),NOT_HOST:new RegExp(s("[^\\%\\[\\]\\:]",ae,B),"g"),NOT_PATH:new RegExp(s("[^\\%\\/\\:\\@]",ae,B),"g"),NOT_PATH_NOSCHEME:new RegExp(s("[^\\%\\/\\@]",ae,B),"g"),NOT_QUERY:new RegExp(s("[^\\%]",ae,B,"[\\:\\@\\/\\?]",Ne),"g"),NOT_FRAGMENT:new RegExp(s("[^\\%]",ae,B,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(s("[^]",ae,B),"g"),UNRESERVED:new RegExp(ae,"g"),OTHER_CHARS:new RegExp(s("[^\\%]",ae,ue),"g"),PCT_ENCODED:new RegExp(O,"g"),IPV4ADDRESS:new RegExp("^("+Oe+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ft+")"+n(n("\\%25|\\%(?!"+P+"{2})")+"("+_t+")")+"?\\]?$")}}var d=f(!1),h=f(!0),k=function(){function m(c,g){var P=[],O=!0,J=!1,B=void 0;try{for(var ue=c[Symbol.iterator](),ge;!(O=(ge=ue.next()).done)&&(P.push(ge.value),!(g&&P.length===g));O=!0);}catch(Ne){J=!0,B=Ne}finally{try{!O&&ue.return&&ue.return()}finally{if(J)throw B}}return P}return function(c,g){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c))return m(c,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=function(m){if(Array.isArray(m)){for(var c=0,g=Array(m.length);c<m.length;c++)g[c]=m[c];return g}else return Array.from(m)},b=2147483647,N=36,$=1,v=26,_=38,F=700,M=72,R=128,Q="-",fe=/^xn--/,ke=/[^\0-\x7E]/,Ee=/[\x2E\u3002\uFF0E\uFF61]/g,ye={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},oe=N-$,K=Math.floor,Z=String.fromCharCode;function ee(m){throw new RangeError(ye[m])}function $e(m,c){for(var g=[],P=m.length;P--;)g[P]=c(m[P]);return g}function Te(m,c){var g=m.split("@"),P="";g.length>1&&(P=g[0]+"@",m=g[1]),m=m.replace(Ee,".");var O=m.split("."),J=$e(O,c).join(".");return P+J}function Ce(m){for(var c=[],g=0,P=m.length;g<P;){var O=m.charCodeAt(g++);if(O>=55296&&O<=56319&&g<P){var J=m.charCodeAt(g++);(J&64512)==56320?c.push(((O&1023)<<10)+(J&1023)+65536):(c.push(O),g--)}else c.push(O)}return c}var Qe=function(c){return String.fromCodePoint.apply(String,D(c))},Be=function(c){return c-48<10?c-22:c-65<26?c-65:c-97<26?c-97:N},I=function(c,g){return c+22+75*(c<26)-((g!=0)<<5)},w=function(c,g,P){var O=0;for(c=P?K(c/F):c>>1,c+=K(c/g);c>oe*v>>1;O+=N)c=K(c/oe);return K(O+(oe+1)*c/(c+_))},A=function(c){var g=[],P=c.length,O=0,J=R,B=M,ue=c.lastIndexOf(Q);ue<0&&(ue=0);for(var ge=0;ge<ue;++ge)c.charCodeAt(ge)>=128&&ee("not-basic"),g.push(c.charCodeAt(ge));for(var Ne=ue>0?ue+1:0;Ne<P;){for(var ae=O,me=1,Oe=N;;Oe+=N){Ne>=P&&ee("invalid-input");var X=Be(c.charCodeAt(Ne++));(X>=N||X>K((b-O)/me))&&ee("overflow"),O+=X*me;var be=Oe<=B?$:Oe>=B+v?v:Oe-B;if(X<be)break;var De=N-be;me>K(b/De)&&ee("overflow"),me*=De}var we=g.length+1;B=w(O-ae,we,ae==0),K(O/we)>b-J&&ee("overflow"),J+=K(O/we),O%=we,g.splice(O++,0,J)}return String.fromCodePoint.apply(String,g)},S=function(c){var g=[];c=Ce(c);var P=c.length,O=R,J=0,B=M,ue=!0,ge=!1,Ne=void 0;try{for(var ae=c[Symbol.iterator](),me;!(ue=(me=ae.next()).done);ue=!0){var Oe=me.value;Oe<128&&g.push(Z(Oe))}}catch(dr){ge=!0,Ne=dr}finally{try{!ue&&ae.return&&ae.return()}finally{if(ge)throw Ne}}var X=g.length,be=X;for(X&&g.push(Q);be<P;){var De=b,we=!0,Ot=!1,lt=void 0;try{for(var ct=c[Symbol.iterator](),Zt;!(we=(Zt=ct.next()).done);we=!0){var jt=Zt.value;jt>=O&&jt<De&&(De=jt)}}catch(dr){Ot=!0,lt=dr}finally{try{!we&&ct.return&&ct.return()}finally{if(Ot)throw lt}}var Ze=be+1;De-O>K((b-J)/Ze)&&ee("overflow"),J+=(De-O)*Ze,O=De;var dt=!0,Ft=!1,_t=void 0;try{for(var cr=c[Symbol.iterator](),Wn;!(dt=(Wn=cr.next()).done);dt=!0){var Zn=Wn.value;if(Zn<O&&++J>b&&ee("overflow"),Zn==O){for(var jr=J,Fr=N;;Fr+=N){var Rr=Fr<=B?$:Fr>=B+v?v:Fr-B;if(jr<Rr)break;var Xn=jr-Rr,Yn=N-Rr;g.push(Z(I(Rr+Xn%Yn,0))),jr=K(Xn/Yn)}g.push(Z(I(jr,0))),B=w(J,Ze,be==X),J=0,++be}}}catch(dr){Ft=!0,_t=dr}finally{try{!dt&&cr.return&&cr.return()}finally{if(Ft)throw _t}}++J,++O}return g.join("")},u=function(c){return Te(c,function(g){return fe.test(g)?A(g.slice(4).toLowerCase()):g})},y=function(c){return Te(c,function(g){return ke.test(g)?"xn--"+S(g):g})},C={version:"2.1.0",ucs2:{decode:Ce,encode:Qe},decode:A,encode:S,toASCII:y,toUnicode:u},L={};function q(m){var c=m.charCodeAt(0),g=void 0;return c<16?g="%0"+c.toString(16).toUpperCase():c<128?g="%"+c.toString(16).toUpperCase():c<2048?g="%"+(c>>6|192).toString(16).toUpperCase()+"%"+(c&63|128).toString(16).toUpperCase():g="%"+(c>>12|224).toString(16).toUpperCase()+"%"+(c>>6&63|128).toString(16).toUpperCase()+"%"+(c&63|128).toString(16).toUpperCase(),g}function te(m){for(var c="",g=0,P=m.length;g<P;){var O=parseInt(m.substr(g+1,2),16);if(O<128)c+=String.fromCharCode(O),g+=3;else if(O>=194&&O<224){if(P-g>=6){var J=parseInt(m.substr(g+4,2),16);c+=String.fromCharCode((O&31)<<6|J&63)}else c+=m.substr(g,6);g+=6}else if(O>=224){if(P-g>=9){var B=parseInt(m.substr(g+4,2),16),ue=parseInt(m.substr(g+7,2),16);c+=String.fromCharCode((O&15)<<12|(B&63)<<6|ue&63)}else c+=m.substr(g,9);g+=9}else c+=m.substr(g,3),g+=3}return c}function ne(m,c){function g(P){var O=te(P);return O.match(c.UNRESERVED)?O:P}return m.scheme&&(m.scheme=String(m.scheme).replace(c.PCT_ENCODED,g).toLowerCase().replace(c.NOT_SCHEME,"")),m.userinfo!==void 0&&(m.userinfo=String(m.userinfo).replace(c.PCT_ENCODED,g).replace(c.NOT_USERINFO,q).replace(c.PCT_ENCODED,i)),m.host!==void 0&&(m.host=String(m.host).replace(c.PCT_ENCODED,g).toLowerCase().replace(c.NOT_HOST,q).replace(c.PCT_ENCODED,i)),m.path!==void 0&&(m.path=String(m.path).replace(c.PCT_ENCODED,g).replace(m.scheme?c.NOT_PATH:c.NOT_PATH_NOSCHEME,q).replace(c.PCT_ENCODED,i)),m.query!==void 0&&(m.query=String(m.query).replace(c.PCT_ENCODED,g).replace(c.NOT_QUERY,q).replace(c.PCT_ENCODED,i)),m.fragment!==void 0&&(m.fragment=String(m.fragment).replace(c.PCT_ENCODED,g).replace(c.NOT_FRAGMENT,q).replace(c.PCT_ENCODED,i)),m}function ve(m){return m.replace(/^0*(.*)/,"$1")||"0"}function We(m,c){var g=m.match(c.IPV4ADDRESS)||[],P=k(g,2),O=P[1];return O?O.split(".").map(ve).join("."):m}function gt(m,c){var g=m.match(c.IPV6ADDRESS)||[],P=k(g,3),O=P[1],J=P[2];if(O){for(var B=O.toLowerCase().split("::").reverse(),ue=k(B,2),ge=ue[0],Ne=ue[1],ae=Ne?Ne.split(":").map(ve):[],me=ge.split(":").map(ve),Oe=c.IPV4ADDRESS.test(me[me.length-1]),X=Oe?7:8,be=me.length-X,De=Array(X),we=0;we<X;++we)De[we]=ae[we]||me[be+we]||"";Oe&&(De[X-1]=We(De[X-1],c));var Ot=De.reduce(function(Ze,dt,Ft){if(!dt||dt==="0"){var _t=Ze[Ze.length-1];_t&&_t.index+_t.length===Ft?_t.length++:Ze.push({index:Ft,length:1})}return Ze},[]),lt=Ot.sort(function(Ze,dt){return dt.length-Ze.length})[0],ct=void 0;if(lt&&lt.length>1){var Zt=De.slice(0,lt.index),jt=De.slice(lt.index+lt.length);ct=Zt.join(":")+"::"+jt.join(":")}else ct=De.join(":");return J&&(ct+="%"+J),ct}else return m}var St=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Gt="".match(/(){0}/)[1]===void 0;function Le(m){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g={},P=c.iri!==!1?h:d;c.reference==="suffix"&&(m=(c.scheme?c.scheme+":":"")+"//"+m);var O=m.match(St);if(O){Gt?(g.scheme=O[1],g.userinfo=O[3],g.host=O[4],g.port=parseInt(O[5],10),g.path=O[6]||"",g.query=O[7],g.fragment=O[8],isNaN(g.port)&&(g.port=O[5])):(g.scheme=O[1]||void 0,g.userinfo=m.indexOf("@")!==-1?O[3]:void 0,g.host=m.indexOf("//")!==-1?O[4]:void 0,g.port=parseInt(O[5],10),g.path=O[6]||"",g.query=m.indexOf("?")!==-1?O[7]:void 0,g.fragment=m.indexOf("#")!==-1?O[8]:void 0,isNaN(g.port)&&(g.port=m.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?O[4]:void 0)),g.host&&(g.host=gt(We(g.host,P),P)),g.scheme===void 0&&g.userinfo===void 0&&g.host===void 0&&g.port===void 0&&!g.path&&g.query===void 0?g.reference="same-document":g.scheme===void 0?g.reference="relative":g.fragment===void 0?g.reference="absolute":g.reference="uri",c.reference&&c.reference!=="suffix"&&c.reference!==g.reference&&(g.error=g.error||"URI is not a "+c.reference+" reference.");var J=L[(c.scheme||g.scheme||"").toLowerCase()];if(!c.unicodeSupport&&(!J||!J.unicodeSupport)){if(g.host&&(c.domainHost||J&&J.domainHost))try{g.host=C.toASCII(g.host.replace(P.PCT_ENCODED,te).toLowerCase())}catch(B){g.error=g.error||"Host's domain name can not be converted to ASCII via punycode: "+B}ne(g,d)}else ne(g,P);J&&J.parse&&J.parse(g,c)}else g.error=g.error||"URI can not be parsed.";return g}function Jt(m,c){var g=c.iri!==!1?h:d,P=[];return m.userinfo!==void 0&&(P.push(m.userinfo),P.push("@")),m.host!==void 0&&P.push(gt(We(String(m.host),g),g).replace(g.IPV6ADDRESS,function(O,J,B){return"["+J+(B?"%25"+B:"")+"]"})),(typeof m.port=="number"||typeof m.port=="string")&&(P.push(":"),P.push(String(m.port))),P.length?P.join(""):void 0}var p=/^\.\.?\//,E=/^\/\.(\/|$)/,T=/^\/\.\.(\/|$)/,U=/^\/?(?:.|\n)*?(?=\/|$)/;function x(m){for(var c=[];m.length;)if(m.match(p))m=m.replace(p,"");else if(m.match(E))m=m.replace(E,"/");else if(m.match(T))m=m.replace(T,"/"),c.pop();else if(m==="."||m==="..")m="";else{var g=m.match(U);if(g){var P=g[0];m=m.slice(P.length),c.push(P)}else throw new Error("Unexpected dot segment condition")}return c.join("")}function j(m){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=c.iri?h:d,P=[],O=L[(c.scheme||m.scheme||"").toLowerCase()];if(O&&O.serialize&&O.serialize(m,c),m.host&&!g.IPV6ADDRESS.test(m.host)){if(c.domainHost||O&&O.domainHost)try{m.host=c.iri?C.toUnicode(m.host):C.toASCII(m.host.replace(g.PCT_ENCODED,te).toLowerCase())}catch(ue){m.error=m.error||"Host's domain name can not be converted to "+(c.iri?"Unicode":"ASCII")+" via punycode: "+ue}}ne(m,g),c.reference!=="suffix"&&m.scheme&&(P.push(m.scheme),P.push(":"));var J=Jt(m,c);if(J!==void 0&&(c.reference!=="suffix"&&P.push("//"),P.push(J),m.path&&m.path.charAt(0)!=="/"&&P.push("/")),m.path!==void 0){var B=m.path;!c.absolutePath&&(!O||!O.absolutePath)&&(B=x(B)),J===void 0&&(B=B.replace(/^\/\//,"/%2F")),P.push(B)}return m.query!==void 0&&(P.push("?"),P.push(m.query)),m.fragment!==void 0&&(P.push("#"),P.push(m.fragment)),P.join("")}function H(m,c){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P=arguments[3],O={};return P||(m=Le(j(m,g),g),c=Le(j(c,g),g)),g=g||{},!g.tolerant&&c.scheme?(O.scheme=c.scheme,O.userinfo=c.userinfo,O.host=c.host,O.port=c.port,O.path=x(c.path||""),O.query=c.query):(c.userinfo!==void 0||c.host!==void 0||c.port!==void 0?(O.userinfo=c.userinfo,O.host=c.host,O.port=c.port,O.path=x(c.path||""),O.query=c.query):(c.path?(c.path.charAt(0)==="/"?O.path=x(c.path):((m.userinfo!==void 0||m.host!==void 0||m.port!==void 0)&&!m.path?O.path="/"+c.path:m.path?O.path=m.path.slice(0,m.path.lastIndexOf("/")+1)+c.path:O.path=c.path,O.path=x(O.path)),O.query=c.query):(O.path=m.path,c.query!==void 0?O.query=c.query:O.query=m.query),O.userinfo=m.userinfo,O.host=m.host,O.port=m.port),O.scheme=m.scheme),O.fragment=c.fragment,O}function ie(m,c,g){var P=l({scheme:"null"},g);return j(H(Le(m,P),Le(c,P),P,!0),P)}function he(m,c){return typeof m=="string"?m=j(Le(m,c),c):a(m)==="object"&&(m=Le(j(m,c),c)),m}function Ae(m,c,g){return typeof m=="string"?m=j(Le(m,g),g):a(m)==="object"&&(m=j(m,g)),typeof c=="string"?c=j(Le(c,g),g):a(c)==="object"&&(c=j(c,g)),m===c}function et(m,c){return m&&m.toString().replace(!c||!c.iri?d.ESCAPE:h.ESCAPE,q)}function qe(m,c){return m&&m.toString().replace(!c||!c.iri?d.PCT_ENCODED:h.PCT_ENCODED,te)}var tt={scheme:"http",domainHost:!0,parse:function(c,g){return c.host||(c.error=c.error||"HTTP URIs must have a host."),c},serialize:function(c,g){var P=String(c.scheme).toLowerCase()==="https";return(c.port===(P?443:80)||c.port==="")&&(c.port=void 0),c.path||(c.path="/"),c}},Bt={scheme:"https",domainHost:tt.domainHost,parse:tt.parse,serialize:tt.serialize};function Tr(m){return typeof m.secure=="boolean"?m.secure:String(m.scheme).toLowerCase()==="wss"}var Nt={scheme:"ws",domainHost:!0,parse:function(c,g){var P=c;return P.secure=Tr(P),P.resourceName=(P.path||"/")+(P.query?"?"+P.query:""),P.path=void 0,P.query=void 0,P},serialize:function(c,g){if((c.port===(Tr(c)?443:80)||c.port==="")&&(c.port=void 0),typeof c.secure=="boolean"&&(c.scheme=c.secure?"wss":"ws",c.secure=void 0),c.resourceName){var P=c.resourceName.split("?"),O=k(P,2),J=O[0],B=O[1];c.path=J&&J!=="/"?J:void 0,c.query=B,c.resourceName=void 0}return c.fragment=void 0,c}},Cr={scheme:"wss",domainHost:Nt.domainHost,parse:Nt.parse,serialize:Nt.serialize},Ar={},Kn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ut="[0-9A-Fa-f]",io=n(n("%[EFef]"+ut+"%"+ut+ut+"%"+ut+ut)+"|"+n("%[89A-Fa-f]"+ut+"%"+ut+ut)+"|"+n("%"+ut+ut)),oo="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",uo="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",lo=s(uo,'[\\"\\\\]'),co="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",fo=new RegExp(Kn,"g"),Wt=new RegExp(io,"g"),ho=new RegExp(s("[^]",oo,"[\\.]",'[\\"]',lo),"g"),Hn=new RegExp(s("[^]",Kn,co),"g"),mo=Hn;function vs(m){var c=te(m);return c.match(fo)?c:m}var Gn={scheme:"mailto",parse:function(c,g){var P=c,O=P.to=P.path?P.path.split(","):[];if(P.path=void 0,P.query){for(var J=!1,B={},ue=P.query.split("&"),ge=0,Ne=ue.length;ge<Ne;++ge){var ae=ue[ge].split("=");switch(ae[0]){case"to":for(var me=ae[1].split(","),Oe=0,X=me.length;Oe<X;++Oe)O.push(me[Oe]);break;case"subject":P.subject=qe(ae[1],g);break;case"body":P.body=qe(ae[1],g);break;default:J=!0,B[qe(ae[0],g)]=qe(ae[1],g);break}}J&&(P.headers=B)}P.query=void 0;for(var be=0,De=O.length;be<De;++be){var we=O[be].split("@");if(we[0]=qe(we[0]),g.unicodeSupport)we[1]=qe(we[1],g).toLowerCase();else try{we[1]=C.toASCII(qe(we[1],g).toLowerCase())}catch(Ot){P.error=P.error||"Email address's domain name can not be converted to ASCII via punycode: "+Ot}O[be]=we.join("@")}return P},serialize:function(c,g){var P=c,O=o(c.to);if(O){for(var J=0,B=O.length;J<B;++J){var ue=String(O[J]),ge=ue.lastIndexOf("@"),Ne=ue.slice(0,ge).replace(Wt,vs).replace(Wt,i).replace(ho,q),ae=ue.slice(ge+1);try{ae=g.iri?C.toUnicode(ae):C.toASCII(qe(ae,g).toLowerCase())}catch(be){P.error=P.error||"Email address's domain name can not be converted to "+(g.iri?"Unicode":"ASCII")+" via punycode: "+be}O[J]=Ne+"@"+ae}P.path=O.join(",")}var me=c.headers=c.headers||{};c.subject&&(me.subject=c.subject),c.body&&(me.body=c.body);var Oe=[];for(var X in me)me[X]!==Ar[X]&&Oe.push(X.replace(Wt,vs).replace(Wt,i).replace(Hn,q)+"="+me[X].replace(Wt,vs).replace(Wt,i).replace(mo,q));return Oe.length&&(P.query=Oe.join("&")),P}},po=/^([^\:]+)\:(.*)/,Jn={scheme:"urn",parse:function(c,g){var P=c.path&&c.path.match(po),O=c;if(P){var J=g.scheme||O.scheme||"urn",B=P[1].toLowerCase(),ue=P[2],ge=J+":"+(g.nid||B),Ne=L[ge];O.nid=B,O.nss=ue,O.path=void 0,Ne&&(O=Ne.parse(O,g))}else O.error=O.error||"URN can not be parsed.";return O},serialize:function(c,g){var P=g.scheme||c.scheme||"urn",O=c.nid,J=P+":"+(g.nid||O),B=L[J];B&&(c=B.serialize(c,g));var ue=c,ge=c.nss;return ue.path=(O||g.nid)+":"+ge,ue}},yo=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Bn={scheme:"urn:uuid",parse:function(c,g){var P=c;return P.uuid=P.nss,P.nss=void 0,!g.tolerant&&(!P.uuid||!P.uuid.match(yo))&&(P.error=P.error||"UUID is not valid."),P},serialize:function(c,g){var P=c;return P.nss=(c.uuid||"").toLowerCase(),P}};L[tt.scheme]=tt,L[Bt.scheme]=Bt,L[Nt.scheme]=Nt,L[Cr.scheme]=Cr,L[Gn.scheme]=Gn,L[Jn.scheme]=Jn,L[Bn.scheme]=Bn,r.SCHEMES=L,r.pctEncChar=q,r.pctDecChars=te,r.parse=Le,r.removeDotSegments=x,r.serialize=j,r.resolveComponents=H,r.resolve=ie,r.normalize=he,r.equal=Ae,r.escapeComponent=et,r.unescapeComponent=qe,Object.defineProperty(r,"__esModule",{value:!0})})})(Ms,Ms.exports);var Mc=Ms.exports;Object.defineProperty(dn,"__esModule",{value:!0});const Zi=Mc;Zi.code='require("ajv/dist/runtime/uri").default';dn.default=Zi;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=ot;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=se;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const s=Pr,n=kr,a=qt,i=Ge,o=se,l=Ie,f=Fe,d=z,h=Vc,k=dn,D=(I,w)=>new RegExp(I,w);D.code="new RegExp";const b=["removeAdditional","useDefaults","coerceTypes"],N=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),$={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},_=200;function F(I){var w,A,S,u,y,C,L,q,te,ne,ve,We,gt,St,Gt,Le,Jt,p,E,T,U,x,j,H,ie;const he=I.strict,Ae=(w=I.code)===null||w===void 0?void 0:w.optimize,et=Ae===!0||Ae===void 0?1:Ae||0,qe=(S=(A=I.code)===null||A===void 0?void 0:A.regExp)!==null&&S!==void 0?S:D,tt=(u=I.uriResolver)!==null&&u!==void 0?u:k.default;return{strictSchema:(C=(y=I.strictSchema)!==null&&y!==void 0?y:he)!==null&&C!==void 0?C:!0,strictNumbers:(q=(L=I.strictNumbers)!==null&&L!==void 0?L:he)!==null&&q!==void 0?q:!0,strictTypes:(ne=(te=I.strictTypes)!==null&&te!==void 0?te:he)!==null&&ne!==void 0?ne:"log",strictTuples:(We=(ve=I.strictTuples)!==null&&ve!==void 0?ve:he)!==null&&We!==void 0?We:"log",strictRequired:(St=(gt=I.strictRequired)!==null&&gt!==void 0?gt:he)!==null&&St!==void 0?St:!1,code:I.code?{...I.code,optimize:et,regExp:qe}:{optimize:et,regExp:qe},loopRequired:(Gt=I.loopRequired)!==null&&Gt!==void 0?Gt:_,loopEnum:(Le=I.loopEnum)!==null&&Le!==void 0?Le:_,meta:(Jt=I.meta)!==null&&Jt!==void 0?Jt:!0,messages:(p=I.messages)!==null&&p!==void 0?p:!0,inlineRefs:(E=I.inlineRefs)!==null&&E!==void 0?E:!0,schemaId:(T=I.schemaId)!==null&&T!==void 0?T:"$id",addUsedSchema:(U=I.addUsedSchema)!==null&&U!==void 0?U:!0,validateSchema:(x=I.validateSchema)!==null&&x!==void 0?x:!0,validateFormats:(j=I.validateFormats)!==null&&j!==void 0?j:!0,unicodeRegExp:(H=I.unicodeRegExp)!==null&&H!==void 0?H:!0,int32range:(ie=I.int32range)!==null&&ie!==void 0?ie:!0,uriResolver:tt}}class M{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,...F(w)};const{es5:A,lines:S}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:N,es5:A,lines:S}),this.logger=K(w.logger);const u=w.validateFormats;w.validateFormats=!1,this.RULES=(0,a.getRules)(),R.call(this,$,w,"NOT SUPPORTED"),R.call(this,v,w,"DEPRECATED","warn"),this._metaOpts=ye.call(this),w.formats&&ke.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&Ee.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),fe.call(this),w.validateFormats=u}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:A,schemaId:S}=this.opts;let u=h;S==="id"&&(u={...h},u.id=u.$id,delete u.$id),A&&w&&this.addMetaSchema(u,u[S],!1)}defaultMeta(){const{meta:w,schemaId:A}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[A]||w:void 0}validate(w,A){let S;if(typeof w=="string"){if(S=this.getSchema(w),!S)throw new Error(`no schema with key or ref "${w}"`)}else S=this.compile(w);const u=S(A);return"$async"in S||(this.errors=S.errors),u}compile(w,A){const S=this._addSchema(w,A);return S.validate||this._compileSchemaEnv(S)}compileAsync(w,A){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:S}=this.opts;return u.call(this,w,A);async function u(ne,ve){await y.call(this,ne.$schema);const We=this._addSchema(ne,ve);return We.validate||C.call(this,We)}async function y(ne){ne&&!this.getSchema(ne)&&await u.call(this,{$ref:ne},!0)}async function C(ne){try{return this._compileSchemaEnv(ne)}catch(ve){if(!(ve instanceof n.default))throw ve;return L.call(this,ve),await q.call(this,ve.missingSchema),C.call(this,ne)}}function L({missingSchema:ne,missingRef:ve}){if(this.refs[ne])throw new Error(`AnySchema ${ne} is loaded but ${ve} cannot be resolved`)}async function q(ne){const ve=await te.call(this,ne);this.refs[ne]||await y.call(this,ve.$schema),this.refs[ne]||this.addSchema(ve,ne,A)}async function te(ne){const ve=this._loading[ne];if(ve)return ve;try{return await(this._loading[ne]=S(ne))}finally{delete this._loading[ne]}}}addSchema(w,A,S,u=this.opts.validateSchema){if(Array.isArray(w)){for(const C of w)this.addSchema(C,void 0,S,u);return this}let y;if(typeof w=="object"){const{schemaId:C}=this.opts;if(y=w[C],y!==void 0&&typeof y!="string")throw new Error(`schema ${C} must be string`)}return A=(0,l.normalizeId)(A||y),this._checkUnique(A),this.schemas[A]=this._addSchema(w,S,A,u,!0),this}addMetaSchema(w,A,S=this.opts.validateSchema){return this.addSchema(w,A,!0,S),this}validateSchema(w,A){if(typeof w=="boolean")return!0;let S;if(S=w.$schema,S!==void 0&&typeof S!="string")throw new Error("$schema must be a string");if(S=S||this.opts.defaultMeta||this.defaultMeta(),!S)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const u=this.validate(S,w);if(!u&&A){const y="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(y);else throw new Error(y)}return u}getSchema(w){let A;for(;typeof(A=Q.call(this,w))=="string";)w=A;if(A===void 0){const{schemaId:S}=this.opts,u=new i.SchemaEnv({schema:{},schemaId:S});if(A=i.resolveSchema.call(this,u,w),!A)return;this.refs[w]=A}return A.validate||this._compileSchemaEnv(A)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const A=Q.call(this,w);return typeof A=="object"&&this._cache.delete(A.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const A=w;this._cache.delete(A);let S=w[this.opts.schemaId];return S&&(S=(0,l.normalizeId)(S),delete this.schemas[S],delete this.refs[S]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const A of w)this.addKeyword(A);return this}addKeyword(w,A){let S;if(typeof w=="string")S=w,typeof A=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),A.keyword=S);else if(typeof w=="object"&&A===void 0){if(A=w,S=A.keyword,Array.isArray(S)&&!S.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ee.call(this,S,A),!A)return(0,d.eachItem)(S,y=>$e.call(this,y)),this;Ce.call(this,A);const u={...A,type:(0,f.getJSONTypes)(A.type),schemaType:(0,f.getJSONTypes)(A.schemaType)};return(0,d.eachItem)(S,u.type.length===0?y=>$e.call(this,y,u):y=>u.type.forEach(C=>$e.call(this,y,u,C))),this}getKeyword(w){const A=this.RULES.all[w];return typeof A=="object"?A.definition:!!A}removeKeyword(w){const{RULES:A}=this;delete A.keywords[w],delete A.all[w];for(const S of A.rules){const u=S.rules.findIndex(y=>y.keyword===w);u>=0&&S.rules.splice(u,1)}return this}addFormat(w,A){return typeof A=="string"&&(A=new RegExp(A)),this.formats[w]=A,this}errorsText(w=this.errors,{separator:A=", ",dataVar:S="data"}={}){return!w||w.length===0?"No errors":w.map(u=>`${S}${u.instancePath} ${u.message}`).reduce((u,y)=>u+A+y)}$dataMetaSchema(w,A){const S=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const u of A){const y=u.split("/").slice(1);let C=w;for(const L of y)C=C[L];for(const L in S){const q=S[L];if(typeof q!="object")continue;const{$data:te}=q.definition,ne=C[L];te&&ne&&(C[L]=Be(ne))}}return w}_removeAllSchemas(w,A){for(const S in w){const u=w[S];(!A||A.test(S))&&(typeof u=="string"?delete w[S]:u&&!u.meta&&(this._cache.delete(u.schema),delete w[S]))}}_addSchema(w,A,S,u=this.opts.validateSchema,y=this.opts.addUsedSchema){let C;const{schemaId:L}=this.opts;if(typeof w=="object")C=w[L];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let q=this._cache.get(w);if(q!==void 0)return q;S=(0,l.normalizeId)(C||S);const te=l.getSchemaRefs.call(this,w,S);return q=new i.SchemaEnv({schema:w,schemaId:L,meta:A,baseId:S,localRefs:te}),this._cache.set(q.schema,q),y&&!S.startsWith("#")&&(S&&this._checkUnique(S),this.refs[S]=q),u&&this.validateSchema(w,!0),q}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):i.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const A=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,w)}finally{this.opts=A}}}M.ValidationError=s.default,M.MissingRefError=n.default,e.default=M;function R(I,w,A,S="error"){for(const u in I){const y=u;y in w&&this.logger[S](`${A}: option ${u}. ${I[y]}`)}}function Q(I){return I=(0,l.normalizeId)(I),this.schemas[I]||this.refs[I]}function fe(){const I=this.opts.schemas;if(I)if(Array.isArray(I))this.addSchema(I);else for(const w in I)this.addSchema(I[w],w)}function ke(){for(const I in this.opts.formats){const w=this.opts.formats[I];w&&this.addFormat(I,w)}}function Ee(I){if(Array.isArray(I)){this.addVocabulary(I);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in I){const A=I[w];A.keyword||(A.keyword=w),this.addKeyword(A)}}function ye(){const I={...this.opts};for(const w of b)delete I[w];return I}const oe={log(){},warn(){},error(){}};function K(I){if(I===!1)return oe;if(I===void 0)return console;if(I.log&&I.warn&&I.error)return I;throw new Error("logger must implement log, warn and error methods")}const Z=/^[a-z_$][a-z0-9_$:-]*$/i;function ee(I,w){const{RULES:A}=this;if((0,d.eachItem)(I,S=>{if(A.keywords[S])throw new Error(`Keyword ${S} is already defined`);if(!Z.test(S))throw new Error(`Keyword ${S} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function $e(I,w,A){var S;const u=w==null?void 0:w.post;if(A&&u)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:y}=this;let C=u?y.post:y.rules.find(({type:q})=>q===A);if(C||(C={type:A,rules:[]},y.rules.push(C)),y.keywords[I]=!0,!w)return;const L={keyword:I,definition:{...w,type:(0,f.getJSONTypes)(w.type),schemaType:(0,f.getJSONTypes)(w.schemaType)}};w.before?Te.call(this,C,L,w.before):C.rules.push(L),y.all[I]=L,(S=w.implements)===null||S===void 0||S.forEach(q=>this.addKeyword(q))}function Te(I,w,A){const S=I.rules.findIndex(u=>u.keyword===A);S>=0?I.rules.splice(S,0,w):(I.rules.push(w),this.logger.warn(`rule ${A} is not defined`))}function Ce(I){let{metaSchema:w}=I;w!==void 0&&(I.$data&&this.opts.$data&&(w=Be(w)),I.validateSchema=this.compile(w,!0))}const Qe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Be(I){return{anyOf:[I,Qe]}}})(vi);var fn={},hn={},mn={};Object.defineProperty(mn,"__esModule",{value:!0});const Uc={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};mn.default=Uc;var zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.callRef=zt.getValidate=void 0;const Lc=kr,Sa=re,He=se,er=vt,Na=Ge,Vr=z,qc={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:s}=e,{baseId:n,schemaEnv:a,validateName:i,opts:o,self:l}=s,{root:f}=a;if((r==="#"||r==="#/")&&n===f.baseId)return h();const d=Na.resolveRef.call(l,f,n,r);if(d===void 0)throw new Lc.default(s.opts.uriResolver,n,r);if(d instanceof Na.SchemaEnv)return k(d);return D(d);function h(){if(a===f)return Br(e,i,a,a.$async);const b=t.scopeValue("root",{ref:f});return Br(e,(0,He._)`${b}.validate`,f,f.$async)}function k(b){const N=Xi(e,b);Br(e,N,b,b.$async)}function D(b){const N=t.scopeValue("schema",o.code.source===!0?{ref:b,code:(0,He.stringify)(b)}:{ref:b}),$=t.name("valid"),v=e.subschema({schema:b,dataTypes:[],schemaPath:He.nil,topSchemaRef:N,errSchemaPath:r},$);e.mergeEvaluated(v),e.ok($)}}};function Xi(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,He._)`${r.scopeValue("wrapper",{ref:t})}.validate`}zt.getValidate=Xi;function Br(e,t,r,s){const{gen:n,it:a}=e,{allErrors:i,schemaEnv:o,opts:l}=a,f=l.passContext?er.default.this:He.nil;s?d():h();function d(){if(!o.$async)throw new Error("async schema referenced by sync schema");const b=n.let("valid");n.try(()=>{n.code((0,He._)`await ${(0,Sa.callValidateCode)(e,t,f)}`),D(t),i||n.assign(b,!0)},N=>{n.if((0,He._)`!(${N} instanceof ${a.ValidationError})`,()=>n.throw(N)),k(N),i||n.assign(b,!1)}),e.ok(b)}function h(){e.result((0,Sa.callValidateCode)(e,t,f),()=>D(t),()=>k(t))}function k(b){const N=(0,He._)`${b}.errors`;n.assign(er.default.vErrors,(0,He._)`${er.default.vErrors} === null ? ${N} : ${er.default.vErrors}.concat(${N})`),n.assign(er.default.errors,(0,He._)`${er.default.vErrors}.length`)}function D(b){var N;if(!a.opts.unevaluated)return;const $=(N=r==null?void 0:r.validate)===null||N===void 0?void 0:N.evaluated;if(a.props!==!0)if($&&!$.dynamicProps)$.props!==void 0&&(a.props=Vr.mergeEvaluated.props(n,$.props,a.props));else{const v=n.var("props",(0,He._)`${b}.evaluated.props`);a.props=Vr.mergeEvaluated.props(n,v,a.props,He.Name)}if(a.items!==!0)if($&&!$.dynamicItems)$.items!==void 0&&(a.items=Vr.mergeEvaluated.items(n,$.items,a.items));else{const v=n.var("items",(0,He._)`${b}.evaluated.items`);a.items=Vr.mergeEvaluated.items(n,v,a.items,He.Name)}}}zt.callRef=Br;zt.default=qc;Object.defineProperty(hn,"__esModule",{value:!0});const zc=mn,Kc=zt,Hc=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",zc.default,Kc.default];hn.default=Hc;var pn={},yn={};Object.defineProperty(yn,"__esModule",{value:!0});const as=se,kt=as.operators,is={maximum:{okStr:"<=",ok:kt.LTE,fail:kt.GT},minimum:{okStr:">=",ok:kt.GTE,fail:kt.LT},exclusiveMaximum:{okStr:"<",ok:kt.LT,fail:kt.GTE},exclusiveMinimum:{okStr:">",ok:kt.GT,fail:kt.LTE}},Gc={message:({keyword:e,schemaCode:t})=>(0,as.str)`must be ${is[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,as._)`{comparison: ${is[e].okStr}, limit: ${t}}`},Jc={keyword:Object.keys(is),type:"number",schemaType:"number",$data:!0,error:Gc,code(e){const{keyword:t,data:r,schemaCode:s}=e;e.fail$data((0,as._)`${r} ${is[t].fail} ${s} || isNaN(${r})`)}};yn.default=Jc;var vn={};Object.defineProperty(vn,"__esModule",{value:!0});const _r=se,Bc={message:({schemaCode:e})=>(0,_r.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,_r._)`{multipleOf: ${e}}`},Wc={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Bc,code(e){const{gen:t,data:r,schemaCode:s,it:n}=e,a=n.opts.multipleOfPrecision,i=t.let("res"),o=a?(0,_r._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${a}`:(0,_r._)`${i} !== parseInt(${i})`;e.fail$data((0,_r._)`(${s} === 0 || (${i} = ${r}/${s}, ${o}))`)}};vn.default=Wc;var gn={},_n={};Object.defineProperty(_n,"__esModule",{value:!0});function Yi(e){const t=e.length;let r=0,s=0,n;for(;s<t;)r++,n=e.charCodeAt(s++),n>=55296&&n<=56319&&s<t&&(n=e.charCodeAt(s),(n&64512)===56320&&s++);return r}_n.default=Yi;Yi.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(gn,"__esModule",{value:!0});const It=se,Zc=z,Xc=_n,Yc={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,It.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,It._)`{limit: ${e}}`},Qc={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Yc,code(e){const{keyword:t,data:r,schemaCode:s,it:n}=e,a=t==="maxLength"?It.operators.GT:It.operators.LT,i=n.opts.unicode===!1?(0,It._)`${r}.length`:(0,It._)`${(0,Zc.useFunc)(e.gen,Xc.default)}(${r})`;e.fail$data((0,It._)`${i} ${a} ${s}`)}};gn.default=Qc;var $n={};Object.defineProperty($n,"__esModule",{value:!0});const ed=re,os=se,td={message:({schemaCode:e})=>(0,os.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,os._)`{pattern: ${e}}`},rd={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:td,code(e){const{data:t,$data:r,schema:s,schemaCode:n,it:a}=e,i=a.opts.unicodeRegExp?"u":"",o=r?(0,os._)`(new RegExp(${n}, ${i}))`:(0,ed.usePattern)(e,s);e.fail$data((0,os._)`!${o}.test(${t})`)}};$n.default=rd;var bn={};Object.defineProperty(bn,"__esModule",{value:!0});const $r=se,sd={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,$r.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,$r._)`{limit: ${e}}`},nd={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:sd,code(e){const{keyword:t,data:r,schemaCode:s}=e,n=t==="maxProperties"?$r.operators.GT:$r.operators.LT;e.fail$data((0,$r._)`Object.keys(${r}).length ${n} ${s}`)}};bn.default=nd;var wn={};Object.defineProperty(wn,"__esModule",{value:!0});const mr=re,br=se,ad=z,id={message:({params:{missingProperty:e}})=>(0,br.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,br._)`{missingProperty: ${e}}`},od={keyword:"required",type:"object",schemaType:"array",$data:!0,error:id,code(e){const{gen:t,schema:r,schemaCode:s,data:n,$data:a,it:i}=e,{opts:o}=i;if(!a&&r.length===0)return;const l=r.length>=o.loopRequired;if(i.allErrors?f():d(),o.strictRequired){const D=e.parentSchema.properties,{definedProperties:b}=e.it;for(const N of r)if((D==null?void 0:D[N])===void 0&&!b.has(N)){const $=i.schemaEnv.baseId+i.errSchemaPath,v=`required property "${N}" is not defined at "${$}" (strictRequired)`;(0,ad.checkStrictMode)(i,v,i.opts.strictRequired)}}function f(){if(l||a)e.block$data(br.nil,h);else for(const D of r)(0,mr.checkReportMissingProp)(e,D)}function d(){const D=t.let("missing");if(l||a){const b=t.let("valid",!0);e.block$data(b,()=>k(D,b)),e.ok(b)}else t.if((0,mr.checkMissingProp)(e,r,D)),(0,mr.reportMissingProp)(e,D),t.else()}function h(){t.forOf("prop",s,D=>{e.setParams({missingProperty:D}),t.if((0,mr.noPropertyInData)(t,n,D,o.ownProperties),()=>e.error())})}function k(D,b){e.setParams({missingProperty:D}),t.forOf(D,s,()=>{t.assign(b,(0,mr.propertyInData)(t,n,D,o.ownProperties)),t.if((0,br.not)(b),()=>{e.error(),t.break()})},br.nil)}}};wn.default=od;var En={};Object.defineProperty(En,"__esModule",{value:!0});const wr=se,ud={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,wr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,wr._)`{limit: ${e}}`},ld={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:ud,code(e){const{keyword:t,data:r,schemaCode:s}=e,n=t==="maxItems"?wr.operators.GT:wr.operators.LT;e.fail$data((0,wr._)`${r}.length ${n} ${s}`)}};En.default=ld;var Sn={},Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});const Qi=ji;Qi.code='require("ajv/dist/runtime/equal").default';Dr.default=Qi;Object.defineProperty(Sn,"__esModule",{value:!0});const Os=Fe,xe=se,cd=z,dd=Dr,fd={message:({params:{i:e,j:t}})=>(0,xe.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,xe._)`{i: ${e}, j: ${t}}`},hd={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:fd,code(e){const{gen:t,data:r,$data:s,schema:n,parentSchema:a,schemaCode:i,it:o}=e;if(!s&&!n)return;const l=t.let("valid"),f=a.items?(0,Os.getSchemaTypes)(a.items):[];e.block$data(l,d,(0,xe._)`${i} === false`),e.ok(l);function d(){const b=t.let("i",(0,xe._)`${r}.length`),N=t.let("j");e.setParams({i:b,j:N}),t.assign(l,!0),t.if((0,xe._)`${b} > 1`,()=>(h()?k:D)(b,N))}function h(){return f.length>0&&!f.some(b=>b==="object"||b==="array")}function k(b,N){const $=t.name("item"),v=(0,Os.checkDataTypes)(f,$,o.opts.strictNumbers,Os.DataType.Wrong),_=t.const("indices",(0,xe._)`{}`);t.for((0,xe._)`;${b}--;`,()=>{t.let($,(0,xe._)`${r}[${b}]`),t.if(v,(0,xe._)`continue`),f.length>1&&t.if((0,xe._)`typeof ${$} == "string"`,(0,xe._)`${$} += "_"`),t.if((0,xe._)`typeof ${_}[${$}] == "number"`,()=>{t.assign(N,(0,xe._)`${_}[${$}]`),e.error(),t.assign(l,!1).break()}).code((0,xe._)`${_}[${$}] = ${b}`)})}function D(b,N){const $=(0,cd.useFunc)(t,dd.default),v=t.name("outer");t.label(v).for((0,xe._)`;${b}--;`,()=>t.for((0,xe._)`${N} = ${b}; ${N}--;`,()=>t.if((0,xe._)`${$}(${r}[${b}], ${r}[${N}])`,()=>{e.error(),t.assign(l,!1).break(v)})))}}};Sn.default=hd;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});const Us=se,md=z,pd=Dr,yd={message:"must be equal to constant",params:({schemaCode:e})=>(0,Us._)`{allowedValue: ${e}}`},vd={keyword:"const",$data:!0,error:yd,code(e){const{gen:t,data:r,$data:s,schemaCode:n,schema:a}=e;s||a&&typeof a=="object"?e.fail$data((0,Us._)`!${(0,md.useFunc)(t,pd.default)}(${r}, ${n})`):e.fail((0,Us._)`${a} !== ${r}`)}};Nn.default=vd;var On={};Object.defineProperty(On,"__esModule",{value:!0});const yr=se,gd=z,_d=Dr,$d={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,yr._)`{allowedValues: ${e}}`},bd={keyword:"enum",schemaType:"array",$data:!0,error:$d,code(e){const{gen:t,data:r,$data:s,schema:n,schemaCode:a,it:i}=e;if(!s&&n.length===0)throw new Error("enum must have non-empty array");const o=n.length>=i.opts.loopEnum;let l;const f=()=>l??(l=(0,gd.useFunc)(t,_d.default));let d;if(o||s)d=t.let("valid"),e.block$data(d,h);else{if(!Array.isArray(n))throw new Error("ajv implementation error");const D=t.const("vSchema",a);d=(0,yr.or)(...n.map((b,N)=>k(D,N)))}e.pass(d);function h(){t.assign(d,!1),t.forOf("v",a,D=>t.if((0,yr._)`${f()}(${r}, ${D})`,()=>t.assign(d,!0).break()))}function k(D,b){const N=n[b];return typeof N=="object"&&N!==null?(0,yr._)`${f()}(${r}, ${D}[${b}])`:(0,yr._)`${r} === ${N}`}}};On.default=bd;Object.defineProperty(pn,"__esModule",{value:!0});const wd=yn,Ed=vn,Sd=gn,Nd=$n,Od=bn,Pd=wn,kd=En,Dd=Sn,Td=Nn,Cd=On,Ad=[wd.default,Ed.default,Sd.default,Nd.default,Od.default,Pd.default,kd.default,Dd.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Td.default,Cd.default];pn.default=Ad;var Pn={},ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.validateAdditionalItems=void 0;const Vt=se,Ls=z,jd={message:({params:{len:e}})=>(0,Vt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Vt._)`{limit: ${e}}`},Fd={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:jd,code(e){const{parentSchema:t,it:r}=e,{items:s}=t;if(!Array.isArray(s)){(0,Ls.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}eo(e,s)}};function eo(e,t){const{gen:r,schema:s,data:n,keyword:a,it:i}=e;i.items=!0;const o=r.const("len",(0,Vt._)`${n}.length`);if(s===!1)e.setParams({len:t.length}),e.pass((0,Vt._)`${o} <= ${t.length}`);else if(typeof s=="object"&&!(0,Ls.alwaysValidSchema)(i,s)){const f=r.var("valid",(0,Vt._)`${o} <= ${t.length}`);r.if((0,Vt.not)(f),()=>l(f)),e.ok(f)}function l(f){r.forRange("i",t.length,o,d=>{e.subschema({keyword:a,dataProp:d,dataPropType:Ls.Type.Num},f),i.allErrors||r.if((0,Vt.not)(f),()=>r.break())})}}ur.validateAdditionalItems=eo;ur.default=Fd;var kn={},lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.validateTuple=void 0;const Oa=se,Wr=z,Rd=re,xd={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return to(e,"additionalItems",t);r.items=!0,!(0,Wr.alwaysValidSchema)(r,t)&&e.ok((0,Rd.validateArray)(e))}};function to(e,t,r=e.schema){const{gen:s,parentSchema:n,data:a,keyword:i,it:o}=e;d(n),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=Wr.mergeEvaluated.items(s,r.length,o.items));const l=s.name("valid"),f=s.const("len",(0,Oa._)`${a}.length`);r.forEach((h,k)=>{(0,Wr.alwaysValidSchema)(o,h)||(s.if((0,Oa._)`${f} > ${k}`,()=>e.subschema({keyword:i,schemaProp:k,dataProp:k},l)),e.ok(l))});function d(h){const{opts:k,errSchemaPath:D}=o,b=r.length,N=b===h.minItems&&(b===h.maxItems||h[t]===!1);if(k.strictTuples&&!N){const $=`"${i}" is ${b}-tuple, but minItems or maxItems/${t} are not specified or different at path "${D}"`;(0,Wr.checkStrictMode)(o,$,k.strictTuples)}}}lr.validateTuple=to;lr.default=xd;Object.defineProperty(kn,"__esModule",{value:!0});const Id=lr,Vd={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Id.validateTuple)(e,"items")};kn.default=Vd;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});const Pa=se,Md=z,Ud=re,Ld=ur,qd={message:({params:{len:e}})=>(0,Pa.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Pa._)`{limit: ${e}}`},zd={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:qd,code(e){const{schema:t,parentSchema:r,it:s}=e,{prefixItems:n}=r;s.items=!0,!(0,Md.alwaysValidSchema)(s,t)&&(n?(0,Ld.validateAdditionalItems)(e,n):e.ok((0,Ud.validateArray)(e)))}};Dn.default=zd;var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});const Xe=se,Mr=z,Kd={message:({params:{min:e,max:t}})=>t===void 0?(0,Xe.str)`must contain at least ${e} valid item(s)`:(0,Xe.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Xe._)`{minContains: ${e}}`:(0,Xe._)`{minContains: ${e}, maxContains: ${t}}`},Hd={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Kd,code(e){const{gen:t,schema:r,parentSchema:s,data:n,it:a}=e;let i,o;const{minContains:l,maxContains:f}=s;a.opts.next?(i=l===void 0?1:l,o=f):i=1;const d=t.const("len",(0,Xe._)`${n}.length`);if(e.setParams({min:i,max:o}),o===void 0&&i===0){(0,Mr.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&i>o){(0,Mr.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Mr.alwaysValidSchema)(a,r)){let N=(0,Xe._)`${d} >= ${i}`;o!==void 0&&(N=(0,Xe._)`${N} && ${d} <= ${o}`),e.pass(N);return}a.items=!0;const h=t.name("valid");o===void 0&&i===1?D(h,()=>t.if(h,()=>t.break())):i===0?(t.let(h,!0),o!==void 0&&t.if((0,Xe._)`${n}.length > 0`,k)):(t.let(h,!1),k()),e.result(h,()=>e.reset());function k(){const N=t.name("_valid"),$=t.let("count",0);D(N,()=>t.if(N,()=>b($)))}function D(N,$){t.forRange("i",0,d,v=>{e.subschema({keyword:"contains",dataProp:v,dataPropType:Mr.Type.Num,compositeRule:!0},N),$()})}function b(N){t.code((0,Xe._)`${N}++`),o===void 0?t.if((0,Xe._)`${N} >= ${i}`,()=>t.assign(h,!0).break()):(t.if((0,Xe._)`${N} > ${o}`,()=>t.assign(h,!1).break()),i===1?t.assign(h,!0):t.if((0,Xe._)`${N} >= ${i}`,()=>t.assign(h,!0)))}}};Tn.default=Hd;var ro={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=se,r=z,s=re;e.error={message:({params:{property:l,depsCount:f,deps:d}})=>{const h=f===1?"property":"properties";return(0,t.str)`must have ${h} ${d} when property ${l} is present`},params:({params:{property:l,depsCount:f,deps:d,missingProperty:h}})=>(0,t._)`{property: ${l},
    missingProperty: ${h},
    depsCount: ${f},
    deps: ${d}}`};const n={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[f,d]=a(l);i(l,f),o(l,d)}};function a({schema:l}){const f={},d={};for(const h in l){if(h==="__proto__")continue;const k=Array.isArray(l[h])?f:d;k[h]=l[h]}return[f,d]}function i(l,f=l.schema){const{gen:d,data:h,it:k}=l;if(Object.keys(f).length===0)return;const D=d.let("missing");for(const b in f){const N=f[b];if(N.length===0)continue;const $=(0,s.propertyInData)(d,h,b,k.opts.ownProperties);l.setParams({property:b,depsCount:N.length,deps:N.join(", ")}),k.allErrors?d.if($,()=>{for(const v of N)(0,s.checkReportMissingProp)(l,v)}):(d.if((0,t._)`${$} && (${(0,s.checkMissingProp)(l,N,D)})`),(0,s.reportMissingProp)(l,D),d.else())}}e.validatePropertyDeps=i;function o(l,f=l.schema){const{gen:d,data:h,keyword:k,it:D}=l,b=d.name("valid");for(const N in f)(0,r.alwaysValidSchema)(D,f[N])||(d.if((0,s.propertyInData)(d,h,N,D.opts.ownProperties),()=>{const $=l.subschema({keyword:k,schemaProp:N},b);l.mergeValidEvaluated($,b)},()=>d.var(b,!0)),l.ok(b))}e.validateSchemaDeps=o,e.default=n})(ro);var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});const so=se,Gd=z,Jd={message:"property name must be valid",params:({params:e})=>(0,so._)`{propertyName: ${e.propertyName}}`},Bd={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Jd,code(e){const{gen:t,schema:r,data:s,it:n}=e;if((0,Gd.alwaysValidSchema)(n,r))return;const a=t.name("valid");t.forIn("key",s,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},a),t.if((0,so.not)(a),()=>{e.error(!0),n.allErrors||t.break()})}),e.ok(a)}};Cn.default=Bd;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});const Ur=re,st=se,Wd=vt,Lr=z,Zd={message:"must NOT have additional properties",params:({params:e})=>(0,st._)`{additionalProperty: ${e.additionalProperty}}`},Xd={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Zd,code(e){const{gen:t,schema:r,parentSchema:s,data:n,errsCount:a,it:i}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:o,opts:l}=i;if(i.props=!0,l.removeAdditional!=="all"&&(0,Lr.alwaysValidSchema)(i,r))return;const f=(0,Ur.allSchemaProperties)(s.properties),d=(0,Ur.allSchemaProperties)(s.patternProperties);h(),e.ok((0,st._)`${a} === ${Wd.default.errors}`);function h(){t.forIn("key",n,$=>{!f.length&&!d.length?b($):t.if(k($),()=>b($))})}function k($){let v;if(f.length>8){const _=(0,Lr.schemaRefOrVal)(i,s.properties,"properties");v=(0,Ur.isOwnProperty)(t,_,$)}else f.length?v=(0,st.or)(...f.map(_=>(0,st._)`${$} === ${_}`)):v=st.nil;return d.length&&(v=(0,st.or)(v,...d.map(_=>(0,st._)`${(0,Ur.usePattern)(e,_)}.test(${$})`))),(0,st.not)(v)}function D($){t.code((0,st._)`delete ${n}[${$}]`)}function b($){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){D($);return}if(r===!1){e.setParams({additionalProperty:$}),e.error(),o||t.break();return}if(typeof r=="object"&&!(0,Lr.alwaysValidSchema)(i,r)){const v=t.name("valid");l.removeAdditional==="failing"?(N($,v,!1),t.if((0,st.not)(v),()=>{e.reset(),D($)})):(N($,v),o||t.if((0,st.not)(v),()=>t.break()))}}function N($,v,_){const F={keyword:"additionalProperties",dataProp:$,dataPropType:Lr.Type.Str};_===!1&&Object.assign(F,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(F,v)}}};ps.default=Xd;var An={};Object.defineProperty(An,"__esModule",{value:!0});const Yd=ot,ka=re,Ps=z,Da=ps,Qd={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:s,data:n,it:a}=e;a.opts.removeAdditional==="all"&&s.additionalProperties===void 0&&Da.default.code(new Yd.KeywordCxt(a,Da.default,"additionalProperties"));const i=(0,ka.allSchemaProperties)(r);for(const h of i)a.definedProperties.add(h);a.opts.unevaluated&&i.length&&a.props!==!0&&(a.props=Ps.mergeEvaluated.props(t,(0,Ps.toHash)(i),a.props));const o=i.filter(h=>!(0,Ps.alwaysValidSchema)(a,r[h]));if(o.length===0)return;const l=t.name("valid");for(const h of o)f(h)?d(h):(t.if((0,ka.propertyInData)(t,n,h,a.opts.ownProperties)),d(h),a.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(h),e.ok(l);function f(h){return a.opts.useDefaults&&!a.compositeRule&&r[h].default!==void 0}function d(h){e.subschema({keyword:"properties",schemaProp:h,dataProp:h},l)}}};An.default=Qd;var jn={};Object.defineProperty(jn,"__esModule",{value:!0});const Ta=re,qr=se,Ca=z,Aa=z,ef={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:s,parentSchema:n,it:a}=e,{opts:i}=a,o=(0,Ta.allSchemaProperties)(r),l=o.filter(N=>(0,Ca.alwaysValidSchema)(a,r[N]));if(o.length===0||l.length===o.length&&(!a.opts.unevaluated||a.props===!0))return;const f=i.strictSchema&&!i.allowMatchingProperties&&n.properties,d=t.name("valid");a.props!==!0&&!(a.props instanceof qr.Name)&&(a.props=(0,Aa.evaluatedPropsToName)(t,a.props));const{props:h}=a;k();function k(){for(const N of o)f&&D(N),a.allErrors?b(N):(t.var(d,!0),b(N),t.if(d))}function D(N){for(const $ in f)new RegExp(N).test($)&&(0,Ca.checkStrictMode)(a,`property ${$} matches pattern ${N} (use allowMatchingProperties)`)}function b(N){t.forIn("key",s,$=>{t.if((0,qr._)`${(0,Ta.usePattern)(e,N)}.test(${$})`,()=>{const v=l.includes(N);v||e.subschema({keyword:"patternProperties",schemaProp:N,dataProp:$,dataPropType:Aa.Type.Str},d),a.opts.unevaluated&&h!==!0?t.assign((0,qr._)`${h}[${$}]`,!0):!v&&!a.allErrors&&t.if((0,qr.not)(d),()=>t.break())})})}}};jn.default=ef;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});const tf=z,rf={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:s}=e;if((0,tf.alwaysValidSchema)(s,r)){e.fail();return}const n=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),e.failResult(n,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Fn.default=rf;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});const sf=re,nf={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:sf.validateUnion,error:{message:"must match a schema in anyOf"}};Rn.default=nf;var xn={};Object.defineProperty(xn,"__esModule",{value:!0});const Zr=se,af=z,of={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Zr._)`{passingSchemas: ${e.passing}}`},uf={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:of,code(e){const{gen:t,schema:r,parentSchema:s,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&s.discriminator)return;const a=r,i=t.let("valid",!1),o=t.let("passing",null),l=t.name("_valid");e.setParams({passing:o}),t.block(f),e.result(i,()=>e.reset(),()=>e.error(!0));function f(){a.forEach((d,h)=>{let k;(0,af.alwaysValidSchema)(n,d)?t.var(l,!0):k=e.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},l),h>0&&t.if((0,Zr._)`${l} && ${i}`).assign(i,!1).assign(o,(0,Zr._)`[${o}, ${h}]`).else(),t.if(l,()=>{t.assign(i,!0),t.assign(o,h),k&&e.mergeEvaluated(k,Zr.Name)})})}}};xn.default=uf;var In={};Object.defineProperty(In,"__esModule",{value:!0});const lf=z,cf={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const n=t.name("valid");r.forEach((a,i)=>{if((0,lf.alwaysValidSchema)(s,a))return;const o=e.subschema({keyword:"allOf",schemaProp:i},n);e.ok(n),e.mergeEvaluated(o)})}};In.default=cf;var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});const us=se,no=z,df={message:({params:e})=>(0,us.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,us._)`{failingKeyword: ${e.ifClause}}`},ff={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:df,code(e){const{gen:t,parentSchema:r,it:s}=e;r.then===void 0&&r.else===void 0&&(0,no.checkStrictMode)(s,'"if" without "then" and "else" is ignored');const n=ja(s,"then"),a=ja(s,"else");if(!n&&!a)return;const i=t.let("valid",!0),o=t.name("_valid");if(l(),e.reset(),n&&a){const d=t.let("ifClause");e.setParams({ifClause:d}),t.if(o,f("then",d),f("else",d))}else n?t.if(o,f("then")):t.if((0,us.not)(o),f("else"));e.pass(i,()=>e.error(!0));function l(){const d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);e.mergeEvaluated(d)}function f(d,h){return()=>{const k=e.subschema({keyword:d},o);t.assign(i,o),e.mergeValidEvaluated(k,i),h?t.assign(h,(0,us._)`${d}`):e.setParams({ifClause:d})}}}};function ja(e,t){const r=e.schema[t];return r!==void 0&&!(0,no.alwaysValidSchema)(e,r)}Vn.default=ff;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});const hf=z,mf={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,hf.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Mn.default=mf;Object.defineProperty(Pn,"__esModule",{value:!0});const pf=ur,yf=kn,vf=lr,gf=Dn,_f=Tn,$f=ro,bf=Cn,wf=ps,Ef=An,Sf=jn,Nf=Fn,Of=Rn,Pf=xn,kf=In,Df=Vn,Tf=Mn;function Cf(e=!1){const t=[Nf.default,Of.default,Pf.default,kf.default,Df.default,Tf.default,bf.default,wf.default,$f.default,Ef.default,Sf.default];return e?t.push(yf.default,gf.default):t.push(pf.default,vf.default),t.push(_f.default),t}Pn.default=Cf;var Un={},Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});const Pe=se,Af={message:({schemaCode:e})=>(0,Pe.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Pe._)`{format: ${e}}`},jf={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Af,code(e,t){const{gen:r,data:s,$data:n,schema:a,schemaCode:i,it:o}=e,{opts:l,errSchemaPath:f,schemaEnv:d,self:h}=o;if(!l.validateFormats)return;n?k():D();function k(){const b=r.scopeValue("formats",{ref:h.formats,code:l.code.formats}),N=r.const("fDef",(0,Pe._)`${b}[${i}]`),$=r.let("fType"),v=r.let("format");r.if((0,Pe._)`typeof ${N} == "object" && !(${N} instanceof RegExp)`,()=>r.assign($,(0,Pe._)`${N}.type || "string"`).assign(v,(0,Pe._)`${N}.validate`),()=>r.assign($,(0,Pe._)`"string"`).assign(v,N)),e.fail$data((0,Pe.or)(_(),F()));function _(){return l.strictSchema===!1?Pe.nil:(0,Pe._)`${i} && !${v}`}function F(){const M=d.$async?(0,Pe._)`(${N}.async ? await ${v}(${s}) : ${v}(${s}))`:(0,Pe._)`${v}(${s})`,R=(0,Pe._)`(typeof ${v} == "function" ? ${M} : ${v}.test(${s}))`;return(0,Pe._)`${v} && ${v} !== true && ${$} === ${t} && !${R}`}}function D(){const b=h.formats[a];if(!b){_();return}if(b===!0)return;const[N,$,v]=F(b);N===t&&e.pass(M());function _(){if(l.strictSchema===!1){h.logger.warn(R());return}throw new Error(R());function R(){return`unknown format "${a}" ignored in schema at path "${f}"`}}function F(R){const Q=R instanceof RegExp?(0,Pe.regexpCode)(R):l.code.formats?(0,Pe._)`${l.code.formats}${(0,Pe.getProperty)(a)}`:void 0,fe=r.scopeValue("formats",{key:a,ref:R,code:Q});return typeof R=="object"&&!(R instanceof RegExp)?[R.type||"string",R.validate,(0,Pe._)`${fe}.validate`]:["string",R,fe]}function M(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!d.$async)throw new Error("async format in sync schema");return(0,Pe._)`await ${v}(${s})`}return typeof $=="function"?(0,Pe._)`${v}(${s})`:(0,Pe._)`${v}.test(${s})`}}}};Ln.default=jf;Object.defineProperty(Un,"__esModule",{value:!0});const Ff=Ln,Rf=[Ff.default];Un.default=Rf;var or={};Object.defineProperty(or,"__esModule",{value:!0});or.contentVocabulary=or.metadataVocabulary=void 0;or.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];or.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(fn,"__esModule",{value:!0});const xf=hn,If=pn,Vf=Pn,Mf=Un,Fa=or,Uf=[xf.default,If.default,(0,Vf.default)(),Mf.default,Fa.metadataVocabulary,Fa.contentVocabulary];fn.default=Uf;var qn={},ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.DiscrError=void 0;var Ra;(function(e){e.Tag="tag",e.Mapping="mapping"})(Ra||(ys.DiscrError=Ra={}));Object.defineProperty(qn,"__esModule",{value:!0});const tr=se,qs=ys,xa=Ge,Lf=z,qf={message:({params:{discrError:e,tagName:t}})=>e===qs.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,tr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},zf={keyword:"discriminator",type:"object",schemaType:"object",error:qf,code(e){const{gen:t,data:r,schema:s,parentSchema:n,it:a}=e,{oneOf:i}=n;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=s.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(s.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),f=t.const("tag",(0,tr._)`${r}${(0,tr.getProperty)(o)}`);t.if((0,tr._)`typeof ${f} == "string"`,()=>d(),()=>e.error(!1,{discrError:qs.DiscrError.Tag,tag:f,tagName:o})),e.ok(l);function d(){const D=k();t.if(!1);for(const b in D)t.elseIf((0,tr._)`${f} === ${b}`),t.assign(l,h(D[b]));t.else(),e.error(!1,{discrError:qs.DiscrError.Mapping,tag:f,tagName:o}),t.endIf()}function h(D){const b=t.name("valid"),N=e.subschema({keyword:"oneOf",schemaProp:D},b);return e.mergeEvaluated(N,tr.Name),b}function k(){var D;const b={},N=v(n);let $=!0;for(let M=0;M<i.length;M++){let R=i[M];R!=null&&R.$ref&&!(0,Lf.schemaHasRulesButRef)(R,a.self.RULES)&&(R=xa.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,R==null?void 0:R.$ref),R instanceof xa.SchemaEnv&&(R=R.schema));const Q=(D=R==null?void 0:R.properties)===null||D===void 0?void 0:D[o];if(typeof Q!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);$=$&&(N||v(R)),_(Q,M)}if(!$)throw new Error(`discriminator: "${o}" must be required`);return b;function v({required:M}){return Array.isArray(M)&&M.includes(o)}function _(M,R){if(M.const)F(M.const,R);else if(M.enum)for(const Q of M.enum)F(Q,R);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function F(M,R){if(typeof M!="string"||M in b)throw new Error(`discriminator: "${o}" values must be unique strings`);b[M]=R}}}};qn.default=zf;const Kf="http://json-schema.org/draft-07/schema#",Hf="http://json-schema.org/draft-07/schema#",Gf="Core schema meta-schema",Jf={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Bf=["object","boolean"],Wf={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Zf={$schema:Kf,$id:Hf,title:Gf,definitions:Jf,type:Bf,properties:Wf,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=vi,s=fn,n=qn,a=Zf,i=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),s.default.forEach(b=>this.addVocabulary(b)),this.opts.discriminator&&this.addKeyword(n.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const b=this.opts.$data?this.$dataMetaSchema(a,i):a;this.addMetaSchema(b,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var f=ot;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var d=se;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var h=Pr;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var k=kr;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return k.default}})})(Fs,Fs.exports);var Xf=Fs.exports;const Yf=qa(Xf),Qf="http://json-schema.org/draft-07/schema#",eh="Schema for Constructor",th="array",rh=1,sh={anyOf:[{$ref:"text"},{$ref:"select"}]},ao={$schema:Qf,title:eh,type:th,minItems:rh,items:sh},Ia={text:$o,select:wo},ks={text:{none:pr().default("").notRequired(),default:pr().required("Обязатльное поле")},select:{none:pr().default("").notRequired(),default:pr().required("Обязатльное поле")}},nh=e=>{const t={};return e.forEach(r=>{t[r.name]=r.value}),t},ah=e=>{const t={};return e.forEach(r=>{if(ks[r.inputtype]===void 0||ks[r.inputtype][r.validation]===void 0)throw new Response("pizes!");t[r.name]=ks[r.inputtype][r.validation]}),t},ih=(e,t,r)=>e.map((s,n)=>{if(Ia[s.inputtype]!==void 0){const a=Ia[s.inputtype];return ce.jsxDEV(To,{name:s.name,control:r,render:({field:i})=>{var o;return ce.jsxDEV(a,{...s,error:(o=t[s.name])==null?void 0:o.message,...i},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.tsx",lineNumber:105,columnNumber:13},void 0)}},n,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.tsx",lineNumber:100,columnNumber:9},void 0)}else throw new Response("inputs markup!")}),zn=new Yf;zn.addSchema(bo);zn.addSchema(Eo);const Va=zn.compile(ao),oh=({data:e})=>{const{control:t,handleSubmit:r,setError:s,formState:{errors:n}}=Lo({defaultValues:nh(e),resolver:Ko(pi(ah(e)))});return Ds.useEffect(()=>{e.length>0&&e.forEach(a=>{a.error!==void 0&&s(a.name,{type:"custom",message:a.error})})},[e,s]),ce.jsxDEV("form",{onSubmit:r(a=>{console.log(a)}),className:"grid gap-y-7",children:[ih(e,n,t),ce.jsxDEV("button",{type:"submit",children:"submit"},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:62,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:54,columnNumber:5},void 0)},uh=({url:e})=>{const[t,r]=Ds.useState(void 0);return Ds.useEffect(()=>{fetch(e).then(s=>s.json()).then(s=>{Va(s)?(console.log("JSON SCHEMA VALID"),r(s)):(console.log(Va.errors),alert("Полученный JSON объект не соответствует схеме!"))})},[e]),t!==null&&t===void 0?ce.jsxDEV("p",{children:"Загрузка..."},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:88,columnNumber:12},void 0):t===null?ce.jsxDEV("p",{children:"Данные не соответствуют JSON Schema"},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:92,columnNumber:12},void 0):ce.jsxDEV(oh,{data:t},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:95,columnNumber:10},void 0)},kh={title:"Конструктор Форм",component:uh,tags:["autodocs"],parameters:{docs:{page:()=>ce.jsxDEV(ce.Fragment,{children:[ce.jsxDEV(vo,{},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:106,columnNumber:11},void 0),ce.jsxDEV("h2",{children:"Ресурсы:"},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:107,columnNumber:11},void 0),ce.jsxDEV("p",{children:ce.jsxDEV("a",{href:"https://transform.tools",target:"_blank",rel:"noreferrer",children:"Transform"},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:109,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:108,columnNumber:11},void 0),ce.jsxDEV("p",{children:ce.jsxDEV("a",{href:"https://json-schema-faker.js.org/",target:"_blank",rel:"noreferrer",children:"JSON Schema to mock JSON"},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:114,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:113,columnNumber:11},void 0),ce.jsxDEV("h2",{children:"Моковые запросы"},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:123,columnNumber:11},void 0),ce.jsxDEV("p",{children:["ФИО","  ",ce.jsxDEV("a",{href:"https://run.mocky.io/v3/31ba368b-8d2f-48b7-aced-51c53098c5e5",target:"_blank",rel:"noreferrer",children:"https://run.mocky.io/v3/31ba368b-8d2f-48b7-aced-51c53098c5e5"},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:126,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:124,columnNumber:11},void 0),ce.jsxDEV("p",{children:["Машины","  ",ce.jsxDEV("a",{href:"https://run.mocky.io/v3/953237a8-da20-4c5c-8c8a-4bc215ec0b87",target:"_blank",rel:"noreferrer",children:"https://run.mocky.io/v3/953237a8-da20-4c5c-8c8a-4bc215ec0b87"},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:136,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:134,columnNumber:11},void 0),ce.jsxDEV("p",{children:["Машины (неверный статус в данных) этот JSON не пройдёт проверку по схеме","  ",ce.jsxDEV("a",{href:"https://run.mocky.io/v3/6543d1cd-1980-4f57-88d6-10cd7bb32c03",target:"_blank",rel:"noreferrer",children:"https://run.mocky.io/v3/6543d1cd-1980-4f57-88d6-10cd7bb32c03"},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:148,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:145,columnNumber:11},void 0),ce.jsxDEV("p",{children:["Пустой массив этот JSON не пройдёт проверку по схеме","  ",ce.jsxDEV("a",{href:"https://run.mocky.io/v3/7bdcf0e0-423b-418d-a2c0-a107083f473e",target:"_blank",rel:"noreferrer",children:"https://run.mocky.io/v3/7bdcf0e0-423b-418d-a2c0-a107083f473e"},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:158,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:156,columnNumber:11},void 0),ce.jsxDEV("h3",{children:"Объект формы после успешного сабмита можно посмотреть в браузерной консоли, как и ошибки валидации JSON схемы"},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:167,columnNumber:11},void 0),ce.jsxDEV("h2",{children:"JSON Schema"},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:172,columnNumber:11},void 0),ce.jsxDEV(go,{language:"json",code:JSON.stringify(ao,null,2)},void 0,!1,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:173,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/andrey/Documents/work/marriator/app/shared/constructor.stories.tsx",lineNumber:105,columnNumber:9},void 0)}}},zr={name:"Конструктор",args:{url:"https://run.mocky.io/v3/31ba368b-8d2f-48b7-aced-51c53098c5e5"}};var Ma,Ua,La;zr.parameters={...zr.parameters,docs:{...(Ma=zr.parameters)==null?void 0:Ma.docs,source:{originalSource:`{
  name: "Конструктор",
  args: {
    url: "https://run.mocky.io/v3/31ba368b-8d2f-48b7-aced-51c53098c5e5"
  }
}`,...(La=(Ua=zr.parameters)==null?void 0:Ua.docs)==null?void 0:La.source}}};const Dh=["Primary"];export{zr as Primary,Dh as __namedExportsOrder,kh as default};
