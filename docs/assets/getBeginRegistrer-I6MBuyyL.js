import{h as n,d as t,H as a}from"./utils-CBgc07CQ.js";const S=async r=>{const o=new URL("https://premialoyality.ru/api/loymax/beginRegister");o.searchParams.append("login",r);const e=await fetch(o);if(!e.ok)throw new Error("Произошел сбой запроса. Повторите попытку");const s=await e.json();if(s.result.data.state==="RegistrationAlreadyCompleted")throw new Error("Пользователь с указанным номером уже зарегестрирован");if(s.result.data.state==="InvalidLoginPassword")throw new Error("Некорректный номер телефона");if(s.result.data.state!=="Success")throw new Error("Не удалось получить успешный ответ. Повторите попытку");if(s.result.apiToken===void 0)throw new Error("Не удалось получить авторизационный токен. Повторите попытку");return s},l={result:{data:{personId:1111111,state:"Success",errorMessage:null,authToken:"LeUcITXsjUUqP6XZHGteGJa8nURFSVN-LPzv5aqsbxOmEbgTP0NCFrEo4soYeS3cUPupFW0_v7wHiIHQ-1NrdRotmjhnJ6tPfvUeBkJkIqEfPsptMSYaA_hx-Q0HQwMorhTnKaJXRbaOLNSueSilVXcpuDKpXpVq9qam9hrBQcOcAY1xowVb1iHVo9LRL_5ML0_gsr4ZmS_qXDCr9q4ofgzVZ3YgeszKMlyYQQsfbCU462A9HUxIOId3L1Xh_BkUWrPsWMt2u_9nqgCOwDrWCCKsWzvP24l8p9N9f3S3Eomz-A_Qbz3-s6UnMQeSNcvbaXxl1tWwxnyYktdO0wR7NRhETLHZe0rOb_0LgZs1gA5iG-tMGIVfxzOWbmq5bV1c0aJlk0-_QXi8mZO4Ay93ubI4XSNTQdqaAq8-bTjYvGk",authResult:{token_type:"bearer",access_token:"LeUcITXsjUUqP6XZHGteGJa8nURFSVN-LPzv5aqsbxOmEbgTP0NCFrEo4soYeS3cUPupFW0_v7wHiIHQ-1NrdRotmjhnJ6tPfvUeBkJkIqEfPsptMSYaA_hx-Q0HQwMorhTnKaJXRbaOLNSueSilVXcpuDKpXpVq9qam9hrBQcOcAY1xowVb1iHVo9LRL_5ML0_gsr4ZmS_qXDCr9q4ofgzVZ3YgeszKMlyYQQsfbCU462A9HUxIOId3L1Xh_BkUWrPsWMt2u_9nqgCOwDrWCCKsWzvP24l8p9N9f3S3Eomz-A_Qbz3-s6UnMQeSNcvbaXxl1tWwxnyYktdO0wR7NRhETLHZe0rOb_0LgZs1gA5iG-tMGIVfxzOWbmq5bV1c0aJlk0-_QXi8mZO4Ay93ubI4XSNTQdqaAq8-bTjYvGk",refresh_token:"9d9df9e6afd74212a82bb3b55ccf34a4",expires_in:2592e3}},result:{state:"Success",httpCode:200,message:null,messageCode:null,exception:null,validationErrors:null},apiToken:"CFI55gm60WHNrS2modvqNpmPF4y0gDsvsduOlB5gmt0BMEDz6jSJwR62ge4x"},status:"Success"},u={result:{data:{personId:null,state:"RegistrationAlreadyCompleted",errorMessage:"На номер 79999999999 отправлено SMS-сообщение",authToken:null,authResult:null},result:{state:"Error",httpCode:400,message:"На номер 79999999999 отправлено SMS-сообщение",messageCode:null,exception:null,validationErrors:null}}},i={result:{data:{personId:null,state:"InvalidLoginPassword",errorMessage:"На номер 79999999999 отправлено SMS-сообщение",authToken:null,authResult:null},result:{state:"Error",httpCode:400,message:"На номер 79999999999 отправлено SMS-сообщение",messageCode:null,exception:null,validationErrors:null}}},c={result:{data:{personId:null,state:"Some other status",errorMessage:"На номер 79999999999 отправлено SMS-сообщение",authToken:null,authResult:null},result:{state:"Some other status",httpCode:400,message:"На номер 79999999999 отправлено SMS-сообщение",messageCode:null,exception:null,validationErrors:null}}},d={result:{data:{personId:1111111,state:"Success",errorMessage:null,authToken:"LeUcITXsjUUqP6XZHGteGJa8nURFSVN-LPzv5aqsbxOmEbgTP0NCFrEo4soYeS3cUPupFW0_v7wHiIHQ-1NrdRotmjhnJ6tPfvUeBkJkIqEfPsptMSYaA_hx-Q0HQwMorhTnKaJXRbaOLNSueSilVXcpuDKpXpVq9qam9hrBQcOcAY1xowVb1iHVo9LRL_5ML0_gsr4ZmS_qXDCr9q4ofgzVZ3YgeszKMlyYQQsfbCU462A9HUxIOId3L1Xh_BkUWrPsWMt2u_9nqgCOwDrWCCKsWzvP24l8p9N9f3S3Eomz-A_Qbz3-s6UnMQeSNcvbaXxl1tWwxnyYktdO0wR7NRhETLHZe0rOb_0LgZs1gA5iG-tMGIVfxzOWbmq5bV1c0aJlk0-_QXi8mZO4Ay93ubI4XSNTQdqaAq8-bTjYvGk",authResult:{token_type:"bearer",access_token:"LeUcITXsjUUqP6XZHGteGJa8nURFSVN-LPzv5aqsbxOmEbgTP0NCFrEo4soYeS3cUPupFW0_v7wHiIHQ-1NrdRotmjhnJ6tPfvUeBkJkIqEfPsptMSYaA_hx-Q0HQwMorhTnKaJXRbaOLNSueSilVXcpuDKpXpVq9qam9hrBQcOcAY1xowVb1iHVo9LRL_5ML0_gsr4ZmS_qXDCr9q4ofgzVZ3YgeszKMlyYQQsfbCU462A9HUxIOId3L1Xh_BkUWrPsWMt2u_9nqgCOwDrWCCKsWzvP24l8p9N9f3S3Eomz-A_Qbz3-s6UnMQeSNcvbaXxl1tWwxnyYktdO0wR7NRhETLHZe0rOb_0LgZs1gA5iG-tMGIVfxzOWbmq5bV1c0aJlk0-_QXi8mZO4Ay93ubI4XSNTQdqaAq8-bTjYvGk",refresh_token:"9d9df9e6afd74212a82bb3b55ccf34a4",expires_in:2592e3}},result:{state:"Success",httpCode:200,message:null,messageCode:null,exception:null,validationErrors:null}},status:"Success"};n.get("https://premialoyality.ru/api/loymax/beginRegister",async({request:r})=>{const e=new URL(r.url).searchParams.get("scenario");return e==="already-registred"?(await t(2e3),a.json(u)):e==="invalid-phone"?(await t(2e3),a.json(i)):e==="unknown-status"?(await t(2e3),a.json(c)):e==="no-token"?(await t(2e3),a.json(d)):(await t(2e3),a.json(l))});export{u as a,i as b,c,d,S as g,l as r};
