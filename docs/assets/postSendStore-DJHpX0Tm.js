import{h as c,H as n}from"./index-Dt5PkBs3.js";import{d as p}from"./delay-DW_e480v.js";const w=async({api_token:e,shopName:a,shopId:t})=>{const s=new URL("https://preprod.premiya.fivecorners.ru/api/page/setShop");s.searchParams.append("api_token",e),s.searchParams.append("shop_name",a),s.searchParams.append("shop_id",t);const o=await fetch(s,{method:"POST"});if(!o.ok)throw new Error("Произошел сбой запроса. Повторите попытку");const r=await o.json();if(r.status==="error")throw new Error(r.message);if(r.status!=="success")throw new Error("Не удалось отправить запрос, повторите попытку");return r},i={status:"success"},h={status:"error",message:"Произошла ошибка, попробуйте ещё раз"};c.post("https://preprod.premiya.fivecorners.ru/api/page/setShop",async({request:e})=>new URL(e.url).searchParams.get("scenario")==="error"?(await p(2e3),n.json(h)):(await p(2e3),n.json(i)));export{h as a,w as p,i as r};
