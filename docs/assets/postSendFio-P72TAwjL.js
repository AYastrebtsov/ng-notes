import{h as c,H as n}from"./index-Dt5PkBs3.js";import{d as p}from"./delay-DW_e480v.js";const l=async({api_token:r,name:a,birthday:t})=>{const s=new URL("https://preprod.premiya.fivecorners.ru/api/page/setNameAndDate");s.searchParams.append("api_token",r),s.searchParams.append("name",a),s.searchParams.append("birthday",t);const o=await fetch(s,{method:"POST"});if(!o.ok)throw new Error("Произошел сбой запроса. Повторите попытку");const e=await o.json();if(e.status==="error")throw new Error(e.message);if(e.status!=="success")throw new Error("Не удалось отправить запрос, повторите попытку");return e},i={status:"success",message:"успех",result:null},u={status:"error",message:"Произошла ошибка, попробуйте ещё раз",result:null};c.post("https://preprod.premiya.fivecorners.ru/api/page/setNameAndDate",async({request:r})=>new URL(r.url).searchParams.get("scenario")==="error"?(await p(2e3),n.json(u)):(await p(2e3),n.json(i)));export{u as a,l as p,i as r};
