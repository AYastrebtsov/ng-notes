import{h as i,H as n}from"./index-Dt5PkBs3.js";import{d as c}from"./delay-DW_e480v.js";const l=async({phone:e,code:o})=>{var a;const s=new URL("https://preprod.premiya.fivecorners.ru/api/loymax/auth");s.searchParams.append("login",e),s.searchParams.append("code",o);const t=await fetch(s);if(!t.ok)throw new Error("Произошел сбой запроса. Повторите попытку");const r=await t.json();if(r.status==="error")throw new Error((a=r.result)==null?void 0:a.error_description);if(r.status!=="success")throw new Error("Произошла ошибка запроса");if(r.apiToken===void 0)throw new Error("Некорректный запрос. Повторите попытку");return r},p={status:"success",apiToken:"123456789"},u={status:"error",massage:"not found user",result:{error:"IncorrectLoginOrPassword",error_description:"Неверное имя пользователя или пароль. Проверьте правильность введенных данных."}};i.get("https://preprod.premiya.fivecorners.ru/api/loymax/auth",async({request:e})=>new URL(e.url).searchParams.get("scenario")==="error"?(await c(2e3),n.json(u)):(await c(2e3),n.json(p)));export{u as a,l as g,p as r};
